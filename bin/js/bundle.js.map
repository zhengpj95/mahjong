{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/modules/mahjong/MahjongData.ts","../../src/modules/mahjong/MahjongProxy.ts","../../src/modules/mahjong/MahjongMdr.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\nimport Dialog=Laya.Dialog;\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.modules.mahjong {\n    export class MahjongUI extends Scene {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/Mahjong\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongUI\",MahjongUI);\n    export class MainInfoUI extends Scene {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/MainInfo\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MainInfoUI\",MainInfoUI);\n}","/**\r\n * @date 2024/12/22\r\n */\r\nexport class MahjongData {\r\n  public row = 8;\r\n  public col = 10;\r\n  public data: string[][] = [];\r\n\r\n  public updateRowCol(row: number, col: number): void {\r\n    this.row = row;\r\n    this.col = col;\r\n    this.data = [];\r\n  }\r\n\r\n  // 麻将类型\r\n  public getMahjongCardList(): string[] {\r\n    const list: string[] = [];\r\n    for (let type of CARD_TYPE_LIST) {\r\n      for (let num of CARD_NUMBER) {\r\n        list.push(type + \"_\" + num);\r\n      }\r\n    }\r\n    for (let feng of FENG_TYPE_LIST) {\r\n      list.push(CardType.FENG + \"_\" + feng);\r\n    }\r\n    return list;\r\n  }\r\n\r\n  private _rowColStrList: string[];\r\n\r\n  public getRowColStrList(): string[] {\r\n    if (!this._rowColStrList) {\r\n      const rst: string[] = [];\r\n      for (let i = 0; i < this.row; i++) {\r\n        for (let j = 0; j < this.col; j++) {\r\n          rst[i * this.col + j] = i + \"_\" + j;\r\n        }\r\n      }\r\n      this._rowColStrList = rst;\r\n    }\r\n    return this._rowColStrList;\r\n  }\r\n\r\n  public getRandomRowCol(): string {\r\n    const list = this.getRowColStrList();\r\n    const idx = Math.random() * list.length >> 0;\r\n    return list.splice(idx, 1)[0];\r\n  }\r\n\r\n  public getMahjongData(): string[][] {\r\n    const list = this.getMahjongCardList();\r\n    for (let item of list) {\r\n      for (let i = 0; i < 4; i++) {\r\n        const randomItem = this.getRandomRowCol();\r\n        const randomItemAry = randomItem.split(\"_\").map(item => +item);\r\n        if (!this.data[randomItemAry[0]]) {\r\n          this.data[randomItemAry[0]] = [];\r\n        }\r\n        this.data[randomItemAry[0]][randomItemAry[1]] = item;\r\n      }\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  public getMahjongCardRes(idStr: string): string {\r\n    const typeList = idStr.split(\"_\");\r\n    return `mahjong/${CardTypeName[typeList[0]] + typeList[1]}.png`;\r\n  }\r\n\r\n  // 移除牌\r\n  public deleteCard(index: number): boolean {\r\n    index += 1;\r\n    const row = index / 10 >> 0;\r\n    const col = index % 10 - 1;\r\n    if (!this.data || !this.data[row]) {\r\n      return false;\r\n    }\r\n    this.data[row][col] = \"\";\r\n    return true;\r\n  }\r\n\r\n  // 获取点击的牌上右下左非空牌的序号\r\n  public getDirectionList(index: number): number[] {\r\n    const leftIdx = Math.max(0, index - 1);\r\n    const rightIdx = Math.max(index + 1, this.col - 1);\r\n    const topIdx = Math.max(0, index - this.col);\r\n    const bottomIdx = Math.max(index + this.col, this.row - 1);\r\n    return [topIdx, rightIdx, bottomIdx, leftIdx];\r\n  }\r\n}\r\n\r\nexport const CARD_NUMBER: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\nexport const CARD_TYPE_LIST: CardType[] = [CardType.TONG, CardType.TIAO];\r\nexport const FENG_TYPE_LIST: FengType[] = [FengType.ZHONG, FengType.FA];\r\n\r\nexport const enum CardType {\r\n  TONG = 1, // 9*4\r\n  WAN = 2, // 9*4\r\n  TIAO = 3, // 9*4\r\n  FENG = 4 // 7*4\r\n}\r\n\r\nexport const enum FengType {\r\n  DONG = 1,\r\n  NAN = 2,\r\n  XI = 3,\r\n  BEI = 4,\r\n  ZHONG = 5,\r\n  FA = 6,\r\n  BAIBAN = 7\r\n}\r\n\r\nexport const CardTypeName = {\r\n  [CardType.TONG]: \"tong\",\r\n  [CardType.WAN]: \"wan\",\r\n  [CardType.TIAO]: \"tiao\",\r\n  [CardType.FENG]: \"feng\",\r\n};","import {\r\n  CARD_NUMBER,\r\n  CARD_TYPE_LIST,\r\n  CardType,\r\n  CardTypeName,\r\n  FENG_TYPE_LIST,\r\n  FengType,\r\n  MahjongData\r\n} from \"./MahjongData\";\r\n\r\n/**\r\n * @date 2024/12/22\r\n */\r\nexport class MahjongProxy {\r\n  private static _instance: MahjongProxy;\r\n  private _data: MahjongData;\r\n\r\n  public static ins(): MahjongProxy {\r\n    if (!this._instance) {\r\n      this._instance = new MahjongProxy();\r\n    }\r\n    return this._instance;\r\n  }\r\n\r\n  public get data(): MahjongData {\r\n    if (!this._data) {\r\n      this._data = new MahjongData();\r\n    }\r\n    return this._data;\r\n  }\r\n\r\n  constructor() {\r\n    this.data.updateRowCol(8, 10);\r\n  }\r\n}","import {ui} from \"../../ui/layaMaxUI\";\r\nimport {MahjongProxy} from \"./MahjongProxy\";\r\nimport List = Laya.List;\r\nimport Handler = Laya.Handler;\r\nimport Box = Laya.Box;\r\nimport Image = Laya.Image;\r\nimport Event = Laya.Event;\r\n\r\ntype BoxCard = Box & {\r\n  boxCard: Box & {\r\n    img: Image;\r\n  }\r\n}\r\n\r\n/**\r\n * @date 2024/12/22\r\n */\r\nexport default class MahjongMdr extends ui.modules.mahjong.MahjongUI {\r\n  private _proxy: MahjongProxy;\r\n  private _list: List;\r\n  private _preIdx = -1;\r\n\r\n  constructor() {\r\n    super();\r\n    this._proxy = MahjongProxy.ins();\r\n  }\r\n\r\n  createChildren() {\r\n    super.createChildren();\r\n    this._list = <List>this.getChildByName(\"listItem\");\r\n    this._list.renderHandler = Handler.create(this, this.onRenderListItem, undefined, false);\r\n\r\n    Laya.loader.load(\"res/atlas/mahjong.atlas\", Laya.Handler.create(this, this.onLoadedSuccess));\r\n  }\r\n\r\n  onOpened(param: any) {\r\n    super.onOpened(param);\r\n  }\r\n\r\n  onClosed(type?: string) {\r\n    super.onClosed(type);\r\n    this._preIdx = -1;\r\n  }\r\n\r\n  private onLoadedSuccess(): void {\r\n    console.log(11111);\r\n    const list = this._proxy.data.getMahjongData();\r\n    this._list.array = list.reduce((a, b) => a.concat(b));\r\n  }\r\n\r\n  private onRenderListItem(item: BoxCard, index: number): void {\r\n    console.log(index);\r\n    const img = <Image>item.getChildByName(\"boxCard\").getChildByName(\"img\");\r\n    const data: string = item.dataSource;\r\n    if (!data) {\r\n      img.skin = \"\";\r\n      return;\r\n    }\r\n    item.tag = data;\r\n    img.skin = this._proxy.data.getMahjongCardRes(data);\r\n\r\n    item.on(Event.CLICK, this, this.onClickItem, [index]);\r\n    item.on(Event.MOUSE_DOWN, this, this.onClickMouseDown, [index]);\r\n    item.on(Event.MOUSE_UP, this, this.onClickMouseUp, [index]);\r\n    item.on(Event.MOUSE_OUT, this, this.onClickMouseUp, [index]);\r\n  }\r\n\r\n  private onClickItem(index: number): void {\r\n    if (this._preIdx > -1) {\r\n      const curItemData = this._list.getItem(index);\r\n      const preItemData = this._list.getItem(this._preIdx);\r\n      if (curItemData === preItemData) {\r\n        const curImg = this._list.getCell(index).getChildByName(\"boxCard\").getChildByName(\"img\") as Image;\r\n        curImg.skin = \"\";\r\n        const preImg = this._list.getCell(this._preIdx).getChildByName(\"boxCard\").getChildByName(\"img\") as Image;\r\n        preImg.skin = \"\";\r\n      }\r\n      console.log(11111, index, this._preIdx, curItemData, preItemData);\r\n      this._proxy.data.deleteCard(index);\r\n      this._proxy.data.deleteCard(this._preIdx);\r\n      this._preIdx = -1;\r\n      console.log(this._proxy.data.data);\r\n    } else {\r\n      this._preIdx = index;\r\n    }\r\n  }\r\n\r\n  private onClickMouseDown(item: BoxCard, index: number): void {\r\n    //\r\n  }\r\n\r\n  private onClickMouseUp(item: BoxCard, index: number): void {\r\n    //\r\n  }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport MahjongMdr from \"./modules/mahjong/MahjongMdr\"\n/*\n* 游戏初始化配置;\n*/\nexport default class GameConfig{\n    static width:number=640;\n    static height:number=1136;\n    static scaleMode:string=\"fixedauto\";\n    static screenMode:string=\"none\";\n    static alignV:string=\"top\";\n    static alignH:string=\"left\";\n    static startScene:any=\"modules/mahjong/Mahjong.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=false;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"modules/mahjong/MahjongMdr.ts\",MahjongMdr);\n    }\n}\nGameConfig.init();","import GameConfig from \"./GameConfig\";\nclass Main {\n\tconstructor() {\n\t\t//根据IDE设置初始化引擎\t\t\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\n\t\tLaya.stage.alignV = GameConfig.alignV;\n\t\tLaya.stage.alignH = GameConfig.alignH;\n\t\t//兼容微信不支持加载scene后缀场景\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n\t\tif (GameConfig.stat) Laya.Stat.show();\n\t\tLaya.alertGlobalError(true);\n\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\t}\n\n\tonVersionLoaded(): void {\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n\t}\n\n\tonConfigLoaded(): void {\n\t\t//加载IDE指定的场景\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n\t}\n}\n//激活启动类\nnew Main();\n"],"names":[],"mappings":"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"}