{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/base/utils/DebugUtils.ts","../../src/base/astar/AStar.ts","../../src/base/astar/AStarConst.ts","../../src/base/astar/Grid.ts","../../src/base/astar/AStarMgr.ts","../../src/base/event/EventManager.ts","../../src/base/cfg/GameCfg.ts","../../src/modules/mahjong/MahjongConst.ts","../../src/modules/mahjong/model/MahjongCardData.ts","../../src/platform/PlatformConst.ts","../../src/platform/Platform.ts","../../src/platform/WechatAdapter.ts","../../src/platform/WebAdapter.ts","../../src/platform/AdapterFactory.ts","../../src/platform/index.ts","../../src/modules/mahjong/model/MahjongModel.ts","../../src/modules/mahjong/model/MahjongProxy.ts","../../src/base/utils/ComUtils.ts","../../src/base/LayerManager.ts","../../src/modules/misc/TipsMdr.ts","../../src/modules/mahjong/view/MahjongMdr.ts","../../src/script/BarProgress.ts","../../src/modules/mahjong/view/MahjongHomeMdr.ts","../../src/modules/mahjong/view/MahjongResultMdr.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\nimport Dialog=Laya.Dialog;\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.modules.mahjong {\n    export class MahjongUI extends Scene {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/Mahjong\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongUI\",MahjongUI);\n    export class MahjongHomeUI extends View {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/MahjongHome\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongHomeUI\",MahjongHomeUI);\n    export class MahjongResultUI extends View {\n\t\tpublic btnHome:Laya.Button;\n\t\tpublic btnNext:Laya.Button;\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/MahjongResult\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongResultUI\",MahjongResultUI);\n}","/**\n * @date 2025/1/9\n */\nexport class DebugUtils {\n  public static debug(key: string, cls: any): void {\n    if (!key || !cls) {\n      return;\n    }\n    if (window) {\n      window[key] = cls;\n    }\n  }\n\n  public static debugClass(cls: any): void {\n    if (!cls) {\n      return;\n    }\n    const name = cls.constructor && cls.constructor.name;\n    if (window && name) {\n      window[name] = cls;\n    }\n  }\n\n  public static showDebug = false;\n\n  public static debugLog(str: string | number | any): void {\n    if (this.showDebug) {\n      console.log(`DebugLog: `, str);\n    }\n  }\n}\n\nDebugUtils.debug(\"DebugUtils\", DebugUtils);","import { Grid } from \"./Grid\";\nimport { GridPoint } from \"./AStarConst\";\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/** 默认拐点数 */\nconst DEFAULT_TURN_COUNT = 2;\n/** 方向 */\nconst DIRECTION: number[][] = [[0, 1], [1, 0], [0, -1], [-1, 0]];\nconst DIRECTION_NAME = [\"right\", \"down\", \"left\", \"up\"];\n\n/**\n * 表示路径搜索中的节点信息\n */\nclass PathNode {\n  public position: GridPoint; // 当前节点的位置 [x, y]\n  public g: number;           // 从起点到当前节点的实际代价\n  public h: number;           // 当前节点到目标节点的启发式估计代价\n  public parent: PathNode | null; // 当前节点的父节点，用于回溯路径\n  public direction: GridPoint | null; // 从父节点到当前节点的移动方向\n\n  constructor(position: GridPoint, g: number, h: number, parent: PathNode | null = null, direction: GridPoint | null = null) {\n    this.position = position;\n    this.g = g;\n    this.h = h;\n    this.parent = parent;\n    this.direction = direction;\n  }\n\n  /**\n   * 获取节点的总代价 f = g + h\n   */\n  public get f(): number {\n    return this.g + this.h;\n  }\n\n  /**路径信息*/\n  private getPathStr(): string {\n    const list: string[] = [this.position.join(\"_\")];\n    let p = this.parent;\n    while (p) {\n      list.push(p.position.join(\"_\"));\n      p = p.parent;\n    }\n    return list.reverse().join(\",\");\n  }\n\n  /**路径信息*/\n  public get pathStr(): string {\n    return this.getPathStr();\n  }\n\n  /**方向*/\n  public get directionName(): string {\n    if (!this.direction) {\n      return \"\";\n    }\n    for (let i = 0; i < DIRECTION.length; i++) {\n      if (DIRECTION[i].toString() === this.direction.toString()) {\n        return DIRECTION_NAME[i];\n      }\n    }\n    return \"\";\n  }\n\n  /**\n   * 全部拐点数\n   */\n  public getTurnCountTotal(): number {\n    if (!this.parent || !this.parent.direction || !this.direction) {\n      return 0; // 起点没有拐点\n    }\n    let cnt = 0;\n    let p = this.parent;\n    let d = this.direction;\n    while (p && d) {\n      if (p.direction && d.toString() !== p.direction.toString()) {\n        cnt++;\n      }\n      d = p.direction;\n      p = p.parent;\n    }\n    return cnt;\n  }\n}\n\n/**\n * A* 算法类\n */\nexport class AStar {\n  private _grid: Grid; // 网格实例\n  private _turnCount: number = 0;// 拐点数\n\n  /**\n   * 构造函数\n   * @param grid - Grid 实例\n   * @param turnCnt - 拐点数，默认2\n   */\n  constructor(grid: Grid, turnCnt = DEFAULT_TURN_COUNT) {\n    this._grid = grid;\n    this._turnCount = turnCnt;\n  }\n\n  /**\n   * 启发式函数，用于估计从某个点到目标点的代价\n   * 此处使用曼哈顿距离\n   * @param a - 当前点 [x, y]\n   * @param b - 目标点 [x, y]\n   * @returns 曼哈顿距离\n   */\n  private heuristic(a: GridPoint, b: GridPoint): number {\n    return Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);\n  }\n\n  /**\n   * 获取某个节点的所有邻居节点\n   * @param node - 当前节点\n   * @param end - 目标点\n   * @returns 邻居节点的位置数组和方向\n   */\n  private getNeighbors(node: PathNode, end: GridPoint): [GridPoint, GridPoint][] {\n    const [x, y] = node.position;\n    const list = DIRECTION.map(([dx, dy]) => ([[x + dx, y + dy], [dx, dy]] as [GridPoint, GridPoint]));\n    return list.filter(([pos]) => end[0] === pos[0] && end[1] === pos[1]\n      ? this._grid.isInBounds(pos[0], pos[1])\n      : this._grid.isValid(pos[0], pos[1]));\n  }\n\n  /**\n   * 执行 A* 算法，查找从起点到终点的最短路径\n   * @param start - 起点 [x, y]\n   * @param end - 终点 [x, y]\n   * @returns 最短路径的数组，如果无路径则返回空数组\n   */\n  public findPath(start: GridPoint, end: GridPoint): GridPoint[] {\n    const openList: PathNode[] = [];        // 打开列表，存储待处理的节点\n    const closedSet: Set<string> = new Set(); // 关闭列表，存储已处理的节点\n    const excludeSet: Set<string> = new Set(); // 排除的路径\n\n    // 创建起点节点并加入打开列表\n    const startNode = new PathNode(start, 0, this.heuristic(start, end));\n    openList.push(startNode);\n\n    while (openList.length > 0) {\n      // 按照 f 值 + 拐点数排序，选择最优的节点\n      openList.sort((a, b) => (a.f + a.getTurnCountTotal()) - (b.f + b.getTurnCountTotal()));\n      const currentNode = openList.shift()!; // 当前节点\n      if (excludeSet.has(currentNode.pathStr)) {\n        continue;\n      }\n      DebugUtils.debugLog(currentNode.pathStr);\n\n      // 如果到达终点，则回溯路径\n      if (currentNode.position[0] === end[0] && currentNode.position[1] === end[1]) {\n        const path: GridPoint[] = [];\n        let node: PathNode | null = currentNode;\n        while (node) {\n          path.unshift(node.position); // 将路径反向插入\n          node = node.parent;\n        }\n        return path;\n      }\n\n      // 将当前节点标记为已处理\n      closedSet.add(currentNode.pathStr);\n\n      // 遍历当前节点的邻居\n      const neighborList = this.getNeighbors(currentNode, end);\n      for (const [neighbor, direction] of neighborList) {\n        const neighborPath = currentNode.pathStr + \",\" + neighbor.toString();\n        if (closedSet.has(neighborPath) || excludeSet.has(neighborPath)) {\n          continue; // 如果邻居已处理，跳过\n        }\n\n        const g = currentNode.g + 1; // 从起点到邻居的实际代价\n        const h = this.heuristic(neighbor, end); // 邻居到目标的启发式代价\n        const neighborNode = new PathNode(neighbor, g, h, currentNode, direction);\n        if (neighborNode.getTurnCountTotal() > this._turnCount) {\n          excludeSet.add(neighborPath);//排除的路径\n          continue;\n        }\n        const existingNode = openList.find(node => node.pathStr === neighborPath);\n\n        // 如果邻居节点不在打开列表或新的路径代价更低\n        if (!existingNode || g < existingNode.g) {\n          if (existingNode) {\n            // 如果邻居节点已存在，移除旧的节点\n            openList.splice(openList.indexOf(existingNode), 1);\n          }\n          // 将邻居节点加入打开列表\n          openList.push(neighborNode);\n        }\n      }\n    }\n\n    // 如果打开列表为空且未找到路径，则返回空数组\n    return [];\n  }\n}\n","/**\n * @date 2025/1/3\n */\n\n// 定义网格单元类型\nexport enum CellType {\n  WALKABLE = 0, // 可行走\n  OBSTACLE = 1, // 障碍\n}\n\n// 表示网格中点的坐标类型 [x, y]\nexport type GridPoint = [number, number];\n","import { CellType } from \"./AStarConst\";\n\n/**\n * Grid 类表示一个网格，在路径搜索中用于检查节点是否有效。\n */\nexport class Grid {\n  private readonly _gridData: CellType[][]; // 网格数据\n\n  /**\n   * 构造函数\n   * @param gridData - 二维数组，表示网格\n   */\n  constructor(gridData: CellType[][]) {\n    this._gridData = gridData;\n  }\n\n  /**\n   * 检查一个点是否在网格内且可通行\n   * @param x - 点的 x 坐标\n   * @param y - 点的 y 坐标\n   * @returns 如果点有效且可通行，返回 true，否则返回 false\n   */\n  public isValid(x: number, y: number): boolean {\n    return this.isInBounds(x, y) && this._gridData[x][y] === CellType.WALKABLE;\n  }\n\n  /**\n   * 判断给定坐标是否在网格边界内\n   * @param x 坐标 x\n   * @param y 坐标 y\n   * @returns 如果在边界内返回 true，否则返回 false\n   */\n  public isInBounds(x: number, y: number): boolean {\n    return x >= 0 && x < this.rows && y >= 0 && y < this.cols;\n  }\n\n  public getValue(x: number, y: number): CellType {\n    if (!this.isInBounds(x, y)) {\n      throw new Error(`Grid.getValue(${x}, ${y}) are out of bounds.`);\n    }\n    return this._gridData[x][y];\n  }\n\n  public setValue(x: number, y: number, val: CellType): boolean {\n    if (!this.isInBounds(x, y)) {\n      throw new Error(`Grid.getValue(${x}, ${y}) are out of bounds.`);\n    }\n    this._gridData[x][y] = val;\n    return true;\n  }\n\n  /**\n   * 获取网格的宽度\n   * @returns 网格的列数\n   */\n  public get cols(): number {\n    return this._gridData[0].length;\n  }\n\n  /**\n   * 获取网格的高度\n   * @returns 网格的行数\n   */\n  public get rows(): number {\n    return this._gridData.length;\n  }\n}\n","/**\n * @date 2025/1/3\n */\nimport { AStar } from \"./AStar\";\nimport { Grid } from \"./Grid\";\nimport { CellType, GridPoint } from \"./AStarConst\";\n\nexport class AStarMgr {\n  private _grid: Grid;\n  private _astar: AStar;\n\n  constructor(data: number[][]) {\n    this.createAStar(data);\n  }\n\n  private createAStar(data: number[][]): void {\n    this._grid = new Grid(data);\n    this._astar = new AStar(this._grid);\n  }\n\n  public updateGrid(point: GridPoint, value: CellType): boolean {\n    if (this._grid) {\n      return this._grid.setValue(point[0], point[1], value);\n    }\n    return false;\n  }\n\n  public findPath(start: GridPoint, end: GridPoint): GridPoint[] {\n    if (this._astar) {\n      return this._astar.findPath(start, end);\n    }\n    return [];\n  }\n}","import EventDispatcher = Laya.EventDispatcher;\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/**\n * @author zpj\n * @date 2025/1/22\n */\nexport class EventManager extends EventDispatcher {\n  public on(type: string, caller: any, listener: Function, args?: any[]): Laya.EventDispatcher {\n    return super.on(type, caller, listener, args);\n  }\n\n  public off(type: string, caller: any, listener: Function, onceOnly?: boolean): Laya.EventDispatcher {\n    return super.off(type, caller, listener, onceOnly);\n  }\n\n  public event(type: string, data?: any): boolean {\n    return super.event(type, data);\n  }\n}\n\nexport const eventMgr = new EventManager();\nDebugUtils.debug(\"eventMgr\", eventMgr);","import Handler = Laya.Handler;\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/**\n * @author zpj\n * @date 2025/3/19\n */\nexport class GameCfg {\n  private static jsonPath = \"json/\";\n  private static jsonCfgListPath = \"json/cfglist.json\";\n  public static cfgMap: {\n    [cfgName: string]: Record<string, any>;\n  } = {};\n  public static cfgListMap: { [cfgName: string]: any[] } = {};\n\n  public static init(): void {\n    Laya.loader.load(\n      this.jsonCfgListPath,\n      Handler.create(this, this.onLoaded),\n      null,\n      Laya.Loader.JSON,\n      0,\n    );\n  }\n\n  private static onLoaded(data: string[]): void {\n    if (data && data.length) {\n      for (const jsonName of data) {\n        Laya.loader.load(\n          this.jsonPath + jsonName,\n          Handler.create(this, this.onLoadedJson, [jsonName]),\n          null,\n          Laya.Loader.JSON,\n          0,\n        );\n      }\n    }\n  }\n\n  private static onLoadedJson(jsonName: string, data: any): void {\n    // console.log(jsonName, data);\n    jsonName = jsonName.replace(\".json\", \"\");\n    this.cfgMap[jsonName] = data;\n\n    const list: any[] = [];\n    for (const key in data) {\n      list.push(data[key]);\n    }\n    this.cfgListMap[jsonName] = list;\n  }\n\n  /**获取配置列表*/\n  public static getCfgListByName<T>(cfgName: string): T[] {\n    return this.cfgListMap[cfgName] || [];\n  }\n\n  /**获取配置单项*/\n  public static getCfgByNameId<T>(cfgName: string, id: number | string): T | undefined {\n    const obj = this.cfgMap[cfgName];\n    return obj ? obj[id] : undefined;\n  }\n}\n\nDebugUtils.debug(\"GameCfg\", GameCfg);\n","import { CardType, FengType } from \"@def/mahjong\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport ConfigName = config.ConfigName;\nimport CardConfig = config.CardConfig;\n\n/**\n * @author zpj\n * @date 2025/3/21\n */\n\n// 每种牌数量\nexport const CARD_COUNT = 4;\n// 非字牌的数字类型\nexport const CARD_NUM_LIST: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n// 卡牌格式 [牌类型, 牌数字]\nexport type CardData = [CardType, number | FengType]\n\nexport function getCardTypeRes(type: CardType, num: number): string {\n  const cardCfg = GameCfg.getCfgByNameId<CardConfig>(ConfigName.CARD, type);\n  return `mahjong/${cardCfg.res + num}.png`;\n}\n","/**\n * @author zpj\n * @date 2025/3/21\n */\n\nimport { CardData, getCardTypeRes } from \"../MahjongConst\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport ConfigName = config.ConfigName;\nimport CardConfig = config.CardConfig;\nimport PoolObject = base.PoolObject;\n\n/**单张麻将的数据*/\nexport class MahjongCardData implements PoolObject {\n  public row: number;\n  public col: number;\n  public cardData: CardData;\n\n  public updateInfo(row: number, col: number, data: CardData): void {\n    this.row = row;\n    this.col = col;\n    this.cardData = data;\n    const cardCfg = GameCfg.getCfgByNameId<CardConfig>(ConfigName.CARD, data[0]);\n    this[\"cardName\"] = cardCfg.res + data[1];\n  }\n\n  public isValid(): boolean {\n    return this.cardData && this.cardData.length > 0;\n  }\n\n  public getIcon(): string {\n    if (!this.cardData) {\n      return \"\";\n    }\n    return getCardTypeRes(this.cardData[0], this.cardData[1]);\n  }\n\n  public checkSame(data: MahjongCardData): boolean {\n    if (!data || !data.cardData) {\n      return false;\n    }\n    if (!this.isValid()) {\n      return false;\n    }\n    return data.cardData[0] === this.cardData[0] && data.cardData[1] === this.cardData[1];\n  }\n\n  public checkPos(data: MahjongCardData): boolean {\n    if (!data) {\n      return false;\n    }\n    return data.row === this.row && data.col === this.col;\n  }\n\n  onAlloc(): void {\n    this.row = 0;\n    this.col = 0;\n    this.cardData = <any>undefined;\n  }\n\n  onFree(): void {\n    this.onAlloc();\n  }\n}\n","/**\n * @date 2025/3/22\n */\n\nexport enum PlatformType {\n  WX = \"wx\",\n  TT = \"tt\",\n  QQ = \"qq\",\n  WEB = \"web\",\n  UNKNOWN = \"unknown\"\n}\n\n// 平台统一接口，适配器模式\nexport interface IPlatformAdapter {\n  login?: () => void;\n  share?: () => void;\n  pay?: () => void;\n\n  readonly storage: IPlatformStorage;\n}\n\n// 缓存系统\nexport interface IPlatformStorage {\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void;\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T;\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void;\n\n  clear: () => void;\n}","/**\n * @date 2025/3/22\n */\nimport { PlatformType } from \"./PlatformConst\";\n\nexport class Platform {\n  public static get platform(): PlatformType {\n    if (typeof wx !== \"undefined\" && wx.getSystemInfoSync) {\n      return PlatformType.WX;\n    } else if (typeof window !== \"undefined\") {\n      return PlatformType.WEB;\n    } else {\n      return PlatformType.UNKNOWN;\n    }\n  }\n\n  public static get isWx(): boolean {\n    return this.platform === PlatformType.WX;\n  }\n\n  public static get isWeb(): boolean {\n    return this.platform === PlatformType.WEB;\n  }\n}","/**\n * wx\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, IPlatformStorage } from \"./PlatformConst\";\n\nexport class WechatAdapter implements IPlatformAdapter {\n  private _storage: IPlatformStorage;\n  public get storage(): IPlatformStorage {\n    if (!this._storage) {\n      this._storage = new WechatPlatformStorage();\n    }\n    return this._storage;\n  }\n\n}\n\nexport class WechatPlatformStorage implements IPlatformStorage {\n  clear(): void {\n    wx.clearStorage();\n  }\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T {\n    try {\n      wx.getStorage({\n        key: key,\n        success: (result): void => {\n          if (callback) callback(JSON.parse(result.data));\n        },\n        fail: () => {\n          if (callback) callback(undefined);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void {\n    try {\n      wx.removeStorage({\n        key: key,\n        success: (): void => {\n          if (callback) callback(true);\n        },\n        fail: () => {\n          if (callback) callback(false);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      if (callback) callback(false);\n    }\n  }\n\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void {\n    try {\n      wx.setStorage({\n        key: key,\n        data: JSON.stringify(val),\n        success: (): void => {\n          if (callback) callback(true);\n        },\n        fail: () => {\n          if (callback) callback(false);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      if (callback) callback(false);\n    }\n  }\n}","/**\n * web\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, IPlatformStorage } from \"./PlatformConst\";\n\nexport class WebAdapter implements IPlatformAdapter {\n  private _storage: IPlatformStorage;\n  public get storage(): IPlatformStorage {\n    if (!this._storage) {\n      this._storage = new WebPlatformStorage();\n    }\n    return this._storage;\n  }\n}\n\nexport class WebPlatformStorage implements IPlatformStorage {\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void {\n    try {\n      localStorage.setItem(key, JSON.stringify(val));\n      if (callback) {\n        callback(true);\n      }\n    } catch (e) {\n      if (callback) {\n        callback(false);\n      }\n    }\n  }\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T {\n    try {\n      const data = localStorage.getItem(key);\n      const parsed = data ? JSON.parse(data) : null;\n      if (callback) {\n        callback(parsed);\n      }\n      return parsed;\n    } catch (e) {\n      if (callback) {\n        callback(undefined);\n      }\n      return undefined;\n    }\n  }\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void {\n    try {\n      localStorage.removeItem(key);\n      if (callback) {\n        callback(true);\n      }\n    } catch (e) {\n      if (callback) {\n        callback(false);\n      }\n    }\n  }\n\n  clear(): void {\n    localStorage.clear();\n  }\n}","/**\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, PlatformType } from \"./PlatformConst\";\nimport { Platform } from \"./Platform\";\nimport { WechatAdapter } from \"./WechatAdapter\";\nimport { WebAdapter } from \"./WebAdapter\";\n\nexport class AdapterFactory {\n  public static getAdapter(): IPlatformAdapter {\n    switch (Platform.platform) {\n      case PlatformType.WX:\n        return new WechatAdapter();\n      case PlatformType.WEB:\n        return new WebAdapter();\n      default:\n        throw new Error(`Unsupported platform!`);\n    }\n  }\n}","/**\n * @author zpj\n * @date 2025/4/1\n */\n\nimport { AdapterFactory } from \"./AdapterFactory\";\n\nexport const globalAdapter = AdapterFactory.getAdapter();\n","import { CardType, IMahjongResultParam, MahjongEvent } from \"@def/mahjong\";\nimport { AStarMgr, GridPoint } from \"@base/astar\";\nimport { eventMgr } from \"@base/event/EventManager\";\nimport { MahjongCardData } from \"./MahjongCardData\";\nimport { CARD_COUNT, CARD_NUM_LIST, CardData } from \"../MahjongConst\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport { globalAdapter } from \"@platform/index\";\nimport Scene = Laya.Scene;\nimport ConfigName = config.ConfigName;\nimport LevelConfig = config.LevelConfig;\nimport poolMgr = base.poolMgr;\n\nconst MAHJONG_LEVEL = \"mahjong_level\";\n\n/**\n * @date 2024/12/22\n */\nexport class MahjongModel {\n  public row = 0;\n  public col = 0;\n  public data: MahjongCardData[][] = [];\n\n  public level = 0;\n  public levelScore = 0;\n\n  private _rowColStrList: string[];\n  private _pathData: number[][] = [];\n  private _astarMgr: AStarMgr;\n  private _sameCardMap: { [key: string]: MahjongCardData[] } = {};\n\n  constructor() {\n    this.init();\n  }\n\n  public init(): void {\n    globalAdapter.storage.getItem(MAHJONG_LEVEL, (data: number) => {\n      console.log(`11111 before getItem: ${this.level}`);\n      this.level = data || 0;\n      console.log(`11111 after getItem: ${this.level} ${data}`);\n    });\n  }\n\n  private getLevelCfg(): LevelConfig {\n    const list = GameCfg.getCfgListByName<LevelConfig>(ConfigName.LEVEl) || [];\n    if (this.level >= list.length) {\n      return list[list.length - 1];\n    }\n    return GameCfg.getCfgByNameId<LevelConfig>(ConfigName.LEVEl, this.level || 1);\n  }\n\n  public updateData(): void {\n    const cfg = this.getLevelCfg();\n    this.row = cfg && cfg.layout ? cfg.layout[0] : 8;\n    this.col = cfg && cfg.layout ? cfg.layout[1] : 10;\n    this.data = [];\n  }\n\n  // 清除当前关卡数据\n  public clearData(isReset = false): void {\n    if (isReset) {\n      this.level = 0;\n    }\n    this.levelScore = 0;\n    this.row = 0;\n    this.col = 0;\n    this.data.length = 0;\n    this._pathData.length = 0;\n    this._astarMgr = <any>undefined;\n    this._rowColStrList = <any>undefined;\n    this._sameCardMap = {};\n  }\n\n  // 麻将牌类型集\n  private getMahjongCardList(): CardData[] {\n    const list: CardData[] = [];\n    const cardTypeList = this.getLevelCfg().cardType || [];\n    const fengTypeList = this.getLevelCfg().fengType || [];\n    for (let type of cardTypeList) {\n      for (let num of CARD_NUM_LIST) {\n        list.push([type, num]);\n      }\n    }\n    for (let feng of fengTypeList) {\n      list.push([CardType.FENG, feng]);\n    }\n    return list;\n  }\n\n  private getRowColStrList(): string[] {\n    if (!this._rowColStrList) {\n      const rst: string[] = [];\n      for (let i = 0; i < this.row; i++) {\n        for (let j = 0; j < this.col; j++) {\n          rst[i * this.col + j] = i + \"_\" + j;\n        }\n      }\n      this._rowColStrList = rst;\n    }\n    return this._rowColStrList || [];\n  }\n\n  private getRandomRowCol(): number[] {\n    const list = this.getRowColStrList();\n    const idx = Math.random() * list.length >> 0;\n    const listItem = list.splice(idx, 1)[0];\n    return listItem.split(\"_\").map(item => +item);\n  }\n\n  public getMahjongData(): MahjongCardData[][] {\n    const list = this.getMahjongCardList();\n    for (let item of list) {\n      for (let i = 0; i < CARD_COUNT; i++) {\n        const randomItemAry = this.getRandomRowCol();\n        if (!this.data[randomItemAry[0]]) {\n          this.data[randomItemAry[0]] = [];\n        }\n        const cardData = poolMgr.alloc(MahjongCardData);\n        cardData.updateInfo(randomItemAry[0], randomItemAry[1], item);\n        this.data[randomItemAry[0]][randomItemAry[1]] = cardData;\n      }\n    }\n    return this.data;\n  }\n\n  // 移除牌\n  public deleteCard(index: number): boolean {\n    const row = (index / 10 >> 0);\n    const col = index % 10;\n    if (!this.data || !this.data[row]) {\n      return false;\n    }\n    poolMgr.free(this.data[row][col]);\n    this.data[row][col] = undefined;\n    if (this._pathData.length) {\n      this._pathData[row + 1][col + 1] = 0;\n    }\n    const cnt = this.getLeaveCardDataList().length;\n    if (cnt <= 0) {\n      this.showResult();\n    }\n    return true;\n  }\n\n  // dfs检查是否可以消除\n  public findPath(startData: MahjongCardData, targetData: MahjongCardData): GridPoint[] {\n    if (!startData || !targetData || !startData.checkSame(targetData)) {\n      return [];\n    }\n    if (!this._astarMgr) {\n      const dfsAry: number[][] = [];\n      for (let i = 0; i < this.row + 2; i++) {\n        for (let j = 0; j < this.col + 2; j++) {\n          if (!dfsAry[i]) {\n            dfsAry[i] = [];\n          }\n          if (i === 0 || j === 0 || i === this.row + 1 || j === this.col + 1) {\n            dfsAry[i][j] = 0;\n          } else {\n            const cardData = this.data[i - 1][j - 1];\n            dfsAry[i][j] = cardData ? 1 : 0;\n          }\n        }\n      }\n      this._pathData = dfsAry;\n      this._astarMgr = new AStarMgr(this._pathData);\n    }\n    const paths = this._astarMgr.findPath([startData.row + 1, startData.col + 1], [targetData.row + 1, targetData.col + 1]);\n    return paths || [];\n  }\n\n  public canConnect(startData: MahjongCardData, targetData: MahjongCardData): boolean {\n    if (!startData || !targetData) {\n      return false;\n    }\n    const paths = this.findPath(startData, targetData);\n    return !!paths.length;\n  }\n\n  // 根据某张牌得到相同牌的信息\n  public getConnectCardDataList(cardData: MahjongCardData): MahjongCardData[] {\n    if (!cardData) {\n      return [];\n    }\n    const cardKey = cardData.cardData.toString();\n    if (this._sameCardMap[cardKey]) {\n      return this._sameCardMap[cardKey] || [];\n    }\n    const rst: MahjongCardData[] = [];\n    for (let data of this.data) {\n      for (let item of data) {\n        if (item && item.checkSame(cardData)) {\n          rst.push(item);\n        }\n      }\n    }\n    this._sameCardMap[cardKey] = rst;\n    return rst;\n  }\n\n  // 提示可消除的牌\n  public getTipsCardDataList(): MahjongCardData[] {\n    if (!this.data.length) {\n      return [];\n    }\n    let minPath = Number.MAX_SAFE_INTEGER;\n    let rst: MahjongCardData[] = [];\n    const checkSet = new Set<string>();\n    for (let rows of this.data) {\n      if (!rows || !rows.length) continue;\n      for (let item of rows) {\n        if (!item || !item.cardData || !item.isValid()) continue;// 已消除\n        if (checkSet.has(item.cardData.toString())) continue;\n        checkSet.add(item.cardData.toString());\n        const connectList = this.getConnectCardDataList(item);\n        if (!connectList.length) continue;\n        for (let i = 0; i < connectList.length; i++) {\n          const cardI = connectList[i];\n          if (!cardI || !cardI.isValid()) continue;\n          for (let j = i + 1; j < connectList.length; j++) {\n            const cardJ = connectList[j];\n            if (!cardJ || !cardJ.isValid()) continue;\n            const paths = this.findPath(cardI, cardJ);\n            if (!paths.length) continue;\n            if (paths.length === 2) {\n              return [cardI, cardJ];\n            }\n            if (paths.length < minPath) {\n              rst = [cardI, cardJ];\n              minPath = paths.length;\n            }\n          }\n        }\n      }\n    }\n    return rst;\n  }\n\n  // 剩余牌列表\n  public getLeaveCardDataList(): MahjongCardData[] {\n    return this.data.reduce((arr, item) => {\n        return arr.concat(item.filter(card => card && card.isValid()));\n      },\n      []\n    );\n  }\n\n  // 洗牌\n  public getRefreshCardDataList(): MahjongCardData[][] {\n    const list = this.getLeaveCardDataList();\n    this._astarMgr = <any>undefined;\n    this._rowColStrList = <any>undefined;\n    this.data = [];\n    for (let i = 0; i < this.row; i++) {\n      this.data[i] = new Array(this.col).fill(undefined);\n    }\n    this._pathData = [];\n    for (let card of list) {\n      if (!card) {\n        continue;\n      }\n      const random = this.getRandomRowCol();\n      if (!this.data[random[0]]) {\n        this.data[random[0]] = new Array(this.col).fill(undefined);\n      }\n      card.updateInfo(random[0], random[1], card.cardData);\n      this.data[random[0]][random[1]] = card;\n    }\n    return this.data;\n  }\n\n  // 关卡挑战时间\n  public getChallengeTime(): number {\n    const cfg = this.getLevelCfg();\n    if (cfg.time) {\n      return cfg.time;\n    }\n    return 90;\n  }\n\n  /**重新挑战*/\n  public challengeAgain(): void {\n    this.clearData();\n    this.updateData();\n  }\n\n  /**下一关*/\n  public showNext(isAgain?: boolean): void {\n    if (!isAgain) {\n      this.level += 1;\n    }\n    this.clearData();\n    this.updateData();\n  }\n\n  /**挑战成功*/\n  public challengeSuccess(): void {\n    let lev = this.level;\n    globalAdapter.storage.setItem(MAHJONG_LEVEL, lev, (success?: boolean) => {\n      if (success) {\n        console.log(`11111 setItem success: `, lev);\n      } else {\n        console.log(`11111 setItem fail: `, lev);\n      }\n    });\n  }\n\n  /**展示结算弹窗*/\n  public showResult(param?: IMahjongResultParam): void {\n    eventMgr.event(MahjongEvent.SHOW_RESULT);\n    Scene.open(\"modules/mahjong/MahjongResult.scene\", false, param);\n  }\n}\n","import { MahjongModel } from \"./MahjongModel\";\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/**\n * @date 2024/12/22\n */\nexport class MahjongProxy {\n  private static _instance: MahjongProxy;\n  private _model: MahjongModel;\n\n  public static ins(): MahjongProxy {\n    if (!this._instance) {\n      this._instance = new MahjongProxy();\n      DebugUtils.debugClass(this._instance);\n    }\n    return this._instance;\n  }\n\n  constructor() {\n    if (!this._model) {\n      this._model = new MahjongModel();\n    }\n  }\n\n  public get model(): MahjongModel {\n    if (!this._model) {\n      this._model = new MahjongModel();\n    }\n    return this._model;\n  }\n}","import TimeLine = Laya.TimeLine;\nimport UIComponent = Laya.UIComponent;\nimport Handler = Laya.Handler;\nimport Event = Laya.Event;\nimport Node = Laya.Node;\n\n/**\n * @date 2024/12/23\n */\nexport default class ComUtils {\n  /** 组件抖动 */\n  public static setTween(box: UIComponent, isTween = true, callback?: Handler): TimeLine | undefined {\n    if (!box) {\n      return undefined;\n    }\n    let timeLine = <TimeLine>box[\"_timeLine_\"];\n    if (timeLine) {\n      timeLine.reset();\n      if (!isTween) {\n        timeLine.destroy();\n        return undefined;\n      }\n    } else {\n      box[\"_timeLine_\"] = timeLine = new TimeLine();\n    }\n    timeLine.to(box, { rotation: 10 }, 100)\n      .to(box, { rotation: -10 }, 100)\n      .to(box, { rotation: 5 }, 100)\n      .to(box, { rotation: -5 }, 100)\n      .to(box, { rotation: 0 }, 50)\n      .play();\n    timeLine.on(Event.COMPLETE, this, () => {\n      if (callback) {\n        callback.run();\n      }\n    });\n    return timeLine;\n  }\n\n  public static setScale(box: UIComponent, scale = 1): void {\n    if (!box) {\n      return;\n    }\n    if (box.scaleX !== scale) {\n      box.scaleX = box.scaleY = scale;\n    }\n  }\n\n  /**根据名称获取对应组件*/\n  public static getNodeByNameList<T extends Node>(box: Node, nameList: string | string[]): T | undefined {\n    if (!box) {\n      return undefined;\n    }\n    if (Array.isArray(nameList)) {\n      let com = box;\n      while (nameList.length) {\n        const name = nameList.shift();\n        com = <UIComponent>com.getChildByName(name);\n        if (!com) {\n          console.error(`ComUtils.getNodeByNameList error: `, name);\n        }\n      }\n      return <T>com;\n    } else {\n      return <T>box.getChildByName(nameList);\n    }\n  }\n}","/**\n * @author zpj\n * @date 2025/1/19\n */\nimport Sprite = Laya.Sprite;\nimport Scene = Laya.Scene;\nimport View = Laya.View;\n\nexport enum LayerIndex {\n  ROOT = 1,\n  MODAL = 2,\n  TIPS = 3\n}\n\nexport function setLayerIndex(scene: Scene | View, idx: LayerIndex = LayerIndex.ROOT): void {\n  if (scene) {\n    scene[\"_layerIndex_\"] = idx;\n  }\n}\n\nclass LayerManager {\n  public init(): void {\n    Scene.root;\n    this.modal;\n    this.tips;\n  }\n\n  // modal层\n  private _modal: Sprite;\n  public get modal(): Sprite {\n    if (!this._modal) {\n      this._modal = new Sprite();\n      Scene[\"_modal_\"] = Laya.stage.addChildAt(this._modal, 1);\n      const modal: Sprite = Scene[\"_modal_\"];\n      modal.name = \"modal\";\n      modal.mouseThrough = true;\n\n      Laya.stage.on(\"resize\", null, () => {\n        modal.size(Laya.stage.width, Laya.stage.height);\n        modal.event(Laya.Event.RESIZE);\n      });\n      modal.size(Laya.stage.width, Laya.stage.height);\n      modal.event(Laya.Event.RESIZE);\n    }\n    return this._modal;\n  }\n\n  // tips层\n  private _tips: Sprite;\n  public get tips(): Sprite {\n    if (!this._tips) {\n      this._tips = new Sprite();\n      Scene[\"_tips_\"] = Laya.stage.addChildAt(this._tips, 2);\n      const tips: Sprite = Scene[\"_tips_\"];\n      tips.name = \"tips\";\n      tips.mouseThrough = true;\n\n      Laya.stage.on(\"resize\", null, () => {\n        tips.size(Laya.stage.width, Laya.stage.height);\n        tips.event(Laya.Event.RESIZE);\n      });\n      tips.size(Laya.stage.width, Laya.stage.height);\n      tips.event(Laya.Event.RESIZE);\n    }\n    return this._tips;\n  }\n}\n\nexport let layerMgr: LayerManager;\n\nexport function initLayerMgr(): void {\n  layerMgr = new LayerManager();\n  layerMgr.init()\n}","import Box = Laya.Box;\nimport Label = Laya.Label;\nimport Image = Laya.Image;\nimport Timer = Laya.Timer;\nimport Tween = Laya.Tween;\nimport Handler = Laya.Handler;\nimport Sprite = Laya.Sprite;\nimport poolMgr = base.poolMgr;\nimport PoolObject = base.PoolObject;\nimport { layerMgr } from \"@base/LayerManager\";\n\nclass TipsItem extends Box implements PoolObject {\n  private _img: Image;\n  private _lab: Label;\n\n  public onAlloc(): void {\n    this.size(600, 35);\n    this.centerX = 0;\n    this.centerY = -100;\n    if (!this._img) {\n      this._img = new Image();\n      this._img.skin = `common/bg0.png`;\n      this._img.left = this._img.right = this._img.bottom = this._img.top = 0;\n      this._img.sizeGrid = `3,8,6,5`;\n      this.addChild(this._img);\n    }\n    if (!this._lab) {\n      this._lab = new Label();\n      this._lab.fontSize = 22;\n      this._lab.color = \"#ffffff\";\n      this._lab.centerX = 0;\n      this._lab.centerY = 1;\n      this.addChild(this._lab);\n    }\n    this.alpha = 1;\n    this._lab.text = \"\";\n  }\n\n  public onFree(): void {\n    this.alpha = 1;\n    if (this._lab) {\n      this._lab.text = \"\";\n    }\n  }\n\n  public set text(str: string) {\n    this._lab.text = str;\n  }\n\n  public execTween(): void {\n    Tween.clearAll(this);\n    Tween.to(this, { alpha: 0.6 }, 800, null, Handler.create(this, this.execTweenEnd, null, true), 800);\n  }\n\n  private execTweenEnd(): void {\n    this.removeSelf();\n    Tween.clearAll(this);\n    poolMgr.free(this);\n  }\n}\n\n/**\n * tips飘字提示\n * @author zpj\n * @date 2025/2/16\n */\nclass TipsMdr extends Box {\n  private _sprite: Sprite;\n  private _tipsList: TipsItem[] = [];\n  private _timer: Timer;\n  private _showMaxNum = 5;\n\n  constructor() {\n    super();\n    if (!this._sprite) {\n      this._sprite = new Sprite();\n      this._sprite.size(Laya.stage.width, Laya.stage.height);\n      this.addChild(this._sprite);\n    }\n    this.size(Laya.stage.width, Laya.stage.height);\n    layerMgr.tips.addChild(this);\n  }\n\n  public addTips(str: string | string[]): void {\n    if (Array.isArray(str)) {\n      for (let strItem of str) {\n        const tipsItem = poolMgr.alloc(TipsItem);\n        tipsItem.text = strItem;\n        this._tipsList.push(tipsItem);\n      }\n    } else {\n      const tipsItem = poolMgr.alloc(TipsItem);\n      tipsItem.text = str;\n      this._tipsList.push(tipsItem);\n    }\n\n    if (!this._timer) {\n      this._timer = new Timer();\n      this._timer.loop(100, this, this.onUpdate);\n      this.onUpdate();\n    }\n  }\n\n  private onUpdate(): void {\n    if (!this._tipsList.length) {\n      this._timer.clearAll(this);\n      this._timer = undefined;\n      return;\n    }\n    const existSize = this._sprite.numChildren;\n    if (existSize >= this._showMaxNum) {\n      return;\n    }\n    for (let i = 0; i < existSize; i++) {\n      const item = <TipsItem>this._sprite.getChildAt(i);\n      if (item) {\n        item.y = item.y - (item.height + 5);\n      }\n    }\n    const tipsItem = this._tipsList.shift();\n    this._sprite.addChild(tipsItem);\n    tipsItem.execTween();\n  }\n}\n\nlet mdr: TipsMdr | undefined;\n\nexport function showTips(str: string): void {\n  if (!mdr) {\n    mdr = new TipsMdr();\n  }\n  mdr.addTips(str);\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { MahjongProxy } from \"../model/MahjongProxy\";\nimport ComUtils from \"@base/utils/ComUtils\";\nimport { MahjongEvent } from \"@def/mahjong\";\nimport { eventMgr } from \"@base/event/EventManager\";\nimport { showTips } from \"../../misc/TipsMdr\";\nimport { MahjongCardData } from \"../model/MahjongCardData\";\nimport { BarProgressComp } from \"@script/index\";\nimport List = Laya.List;\nimport Handler = Laya.Handler;\nimport Box = Laya.Box;\nimport Image = Laya.Image;\nimport Event = Laya.Event;\nimport SoundManager = Laya.SoundManager;\nimport Button = Laya.Button;\nimport Label = Laya.Label;\nimport CallBack = base.CallBack;\n\ntype BoxRender = Box & {\n  boxCard: Box & {\n    img: Image\n  }\n}\n\ntype BoxCard = Box & {\n  img: Image\n  imgSelected: Image;\n}\n\nconst INIT_SCALE = 0.4;\nconst BIG_SCALE = 0.42;\n\n/**\n * @date 2024/12/22\n */\nexport default class MahjongMdr extends ui.modules.mahjong.MahjongUI {\n  private _proxy: MahjongProxy;\n  private _list: List;\n  private _preIdx = -1;\n  private _btnTips: Button;\n  private _btnRefresh: Button;\n  private _lastScoreTime = 0;\n  private _endTime = 0;\n\n  constructor() {\n    super();\n    this._proxy = MahjongProxy.ins();\n  }\n\n  createChildren() {\n    super.createChildren();\n    this._list = <List>this.getChildByName(\"listItem\");\n    this._list.renderHandler = Handler.create(this, this.onRenderListItem, undefined, false);\n\n    this._btnTips = <Button>this.getChildByName(\"btnTips\");\n    this._btnRefresh = <Button>this.getChildByName(\"btnRefresh\");\n    this._btnTips.clickHandler = Handler.create(this, this.onBtnTips, undefined, false);\n    this._btnRefresh.clickHandler = Handler.create(this, this.onBtnRefresh, undefined, false);\n\n\n    eventMgr.on(MahjongEvent.UPDATE_NEXT, this, this.onRefreshNext);\n    eventMgr.on(MahjongEvent.SHOW_RESULT, this, this.showResultToClear);\n  }\n\n  onOpened(param: any) {\n    super.onOpened(param);\n    this._proxy.model.clearData();\n    Laya.loader.load(\"res/atlas/mahjong.atlas\", Laya.Handler.create(this, this.onLoadedSuccess, undefined, true));\n  }\n\n  onClosed(type?: string) {\n    super.onClosed(type);\n    this._preIdx = -1;\n    this._btnTips.clickHandler.clear();\n    this._btnTips.clickHandler = undefined;\n    this._btnRefresh.clickHandler.clear();\n    this._btnRefresh.clickHandler = undefined;\n  }\n\n  private onLoadedSuccess(): void {\n    console.warn(\"11111 onLoadedSuccess\");\n    this.onRefreshNext();\n  }\n\n  private onRefreshNext(data?: boolean): void {\n    console.warn(`11111 onRefreshNext level:${this._proxy.model.level}`);\n    this._proxy.model.showNext(data);\n\n    this.resetScore();\n    this.updateLevel();\n    const list = this._proxy.model.getMahjongData();\n    this._list.array = list.reduce((a, b) => a.concat(b));\n    this.updateBar();\n  }\n\n  private updateBar(): void {\n    const now = Date.now() / 1000 >> 0;\n    this._endTime = now + this._proxy.model.getChallengeTime();\n    const bar = <BarProgressComp>this.getChildByName(\"bar\");\n    bar.value = 1;\n    base.tweenMgr.remove(bar);\n    base.tweenMgr.get(bar).to({ value: 0 }, (this._endTime - now) * 1000, null, CallBack.alloc(this, this.onTimeOut, true));\n  }\n\n  // 展示结算弹窗时候，清除操作\n  private showResultToClear(): void {\n    const bar = <Box>this.getChildByName(\"bar\");\n    base.tweenMgr.remove(bar);\n  }\n\n  // 失败结束\n  private onTimeOut(): void {\n    this._proxy.model.showResult({ type: 1 });\n  }\n\n  private onRenderListItem(item: BoxRender, index: number): void {\n    const boxCard = <BoxCard>item.getChildByName(\"boxCard\");\n    const img = ComUtils.getNodeByNameList<Image>(boxCard, [\"img\"]);\n    const data: MahjongCardData = item.dataSource;\n    if (!data) {\n      img.skin = \"\";\n      return;\n    }\n    item.tag = data;\n    img.skin = data.getIcon();\n    ComUtils.setScale(boxCard, INIT_SCALE);\n    this.setSelect(boxCard, false);\n\n    item.on(Event.CLICK, this, this.onClickItem, [index]);\n  }\n\n  private onClickItem(index: number): void {\n    if (this._preIdx > -1 && index === this._preIdx) {\n      // 同一个牌，则清除\n      const boxCard = <BoxCard>this._list.getCell(index).getChildByName(\"boxCard\");\n      this._preIdx = -1;\n      ComUtils.setScale(boxCard, INIT_SCALE);\n      this.setSelect(boxCard, false);\n      return;\n    }\n\n    SoundManager.playSound(\"audio/mixkit-flop.wav\");\n    if (this._preIdx > -1 && index !== this._preIdx) {\n      const curItemData: MahjongCardData = this._list.getItem(index);\n      const preItemData: MahjongCardData = this._list.getItem(this._preIdx);\n      const curItem = <BoxCard>this._list.getCell(index).getChildByName(\"boxCard\");\n      const preItem = <BoxCard>this._list.getCell(this._preIdx).getChildByName(\"boxCard\");\n      if (curItemData && curItemData.checkSame(preItemData)\n        && this._proxy.model.canConnect(preItemData, curItemData)) {\n        ComUtils.setScale(curItem, BIG_SCALE);\n        this.clearCardItem(curItem, index);\n        this.setSelect(curItem, true);\n        this.clearCardItem(preItem, this._preIdx);\n        this.addScore();\n      } else {\n        ComUtils.setScale(curItem, INIT_SCALE);\n        ComUtils.setScale(preItem, INIT_SCALE);\n        this.setSelect(curItem, false);\n        this.setSelect(preItem, false);\n      }\n      this._preIdx = -1;\n    } else {\n      const item = this._list.getCell(index);\n      const cardData = <MahjongCardData>item.dataSource;\n      if (!cardData || !cardData.isValid()) {\n        this._preIdx = -1;\n        return;\n      }\n      this._preIdx = index;\n      const boxCard = <BoxCard>item.getChildByName(\"boxCard\");\n      ComUtils.setScale(boxCard, BIG_SCALE);\n      this.setSelect(boxCard, true);\n    }\n  }\n\n  private updateLevel(): void {\n    const lab = <Label>this.getChildByName(\"labLevel\");\n    lab.text = \"关卡：\" + this._proxy.model.level;\n  }\n\n  private addScore(): void {\n    const now = Date.now();\n    const diffTime = now - this._lastScoreTime;\n    let score = 1; // 消除间隔不同，加分不同\n    if (diffTime < 2 * 1000) {\n      score = 5;\n    } else if (diffTime < 5 * 1000) {\n      score = 3;\n    }\n    this._proxy.model.levelScore += score;\n    this._lastScoreTime = now;\n    const lab = ComUtils.getNodeByNameList<Label>(this, [\"boxScore\", \"lab\"]);\n    lab.text = this._proxy.model.levelScore + \"\";\n  }\n\n  private resetScore(): void {\n    this._lastScoreTime = 0;\n    const lab = ComUtils.getNodeByNameList<Label>(this, [\"boxScore\", \"lab\"]);\n    lab.text = \"0\";\n  }\n\n  private clearCardItem(box: BoxCard, index: number): void {\n    const idx = index;\n    ComUtils.setTween(box, true, Handler.create(this, () => {\n      const curImg = box.getChildByName(\"img\") as Image;\n      curImg.skin = \"\";\n      const imgSel = box.getChildByName(\"imgSelected\") as Image;\n      imgSel.visible = false;\n      this._proxy.model.deleteCard(idx);\n    }));\n  }\n\n  private setSelect(boxCard: BoxCard, isSel = false): void {\n    const imgSel = ComUtils.getNodeByNameList<Image>(boxCard, [\"imgSelected\"]);\n    if (imgSel) imgSel.visible = isSel;\n  }\n\n  // 提示\n  private onBtnTips(): void {\n    // 检查次数，有就继续，没有则拉起广告，给予次数 todo\n    const cardList = this._proxy.model.getTipsCardDataList();\n    if (cardList.length) {\n      const cells = this._list.cells || [];\n      for (let card of cardList) {\n        const idx = card.row * this._proxy.model.col + card.col;\n        const cardItem = <BoxCard>cells[idx].getChildByName(\"boxCard\");\n        if (cardItem) {\n          ComUtils.setTween(cardItem);\n        }\n      }\n    } else {\n      showTips(\"无可消除的卡牌，请洗牌\");\n    }\n  }\n\n  // 洗牌\n  private onBtnRefresh(): void {\n    // 检查次数，有就继续，没有则拉起广告，给予次数 todo\n    const list = this._proxy.model.getRefreshCardDataList();\n    this._list.array = list.reduce((a, b) => a.concat(b));\n    this._list.refresh();\n    showTips(\"洗牌成功！\");\n  }\n}","import Script = Laya.Script;\nimport Box = Laya.Box;\nimport Image = Laya.Image;\nimport Label = Laya.Label;\n\nfunction createImgMask(): Image {\n  const img = new Image();\n  img.skin = `common/img_blank.png`;\n  img.width = img.height = 0;\n  img.sizeGrid = \"4,5,7,6\";\n  return img;\n}\n\n/**\n * 进度条\n * @date 2025/3/15\n */\nexport default class BarProgress extends Script {\n  private _imgBar: Image;\n  private _imgMask: Image;\n  private _lab: Label;\n\n  public onAwake(): void {\n    super.onAwake();\n    const owner = <Box>this.owner;\n    this._imgBar = <Image>owner.getChildByName(\"imgBar\");\n    this._lab = <Label>owner.getChildByName(\"lab\");\n    if (!this._imgMask) {\n      this._imgMask = createImgMask();\n      this._imgMask.height = this._imgBar.height;\n      this._imgBar.mask = this._imgMask;\n    }\n\n    Object.defineProperty(this.owner, \"value\", {\n      configurable: true,\n      enumerable: true,\n      get: () => {\n        return this.value;\n      },\n      set: (v: number): void => {\n        this.value = v;\n      }\n    });\n  }\n\n  public onEnable(): void {\n    super.onEnable();\n  }\n\n  public onDestroy(): void {\n    super.onDestroy();\n  }\n\n  private getImgWidth(): number {\n    if (!this._imgBar || !this._imgBar.width) {\n      const func = this._imgBar[\"_sizeChanged\"];\n      if (func) {\n        func();\n      }\n    }\n    return this._imgBar ? this._imgBar.width : 0;\n  }\n\n  public set value(val: number) {\n    if (this._imgMask && this._imgBar) {\n      const width = val * this.getImgWidth() >> 0;\n      this._imgMask.width = width;\n      this._imgBar.visible = width >= 1;\n    }\n  }\n\n  public get value(): number {\n    if (this._imgMask && this._imgBar) {\n      return this._imgMask.width / this._imgBar.width;\n    }\n    return 0;\n  }\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { MahjongProxy } from \"../model/MahjongProxy\";\nimport Button = Laya.Button;\nimport Scene = Laya.Scene;\nimport Handler = Laya.Handler;\n\n/**\n * @author zpj\n * @date 2025/1/21\n */\nexport default class MahjongHomeMdr extends ui.modules.mahjong.MahjongHomeUI {\n  private _btnStart: Button;\n\n  public createChildren(): void {\n    super.createChildren();\n    MahjongProxy.ins().model.init();\n    this._btnStart = <Button>this.getChildByName(\"btnStart\");\n    this._btnStart.clickHandler = Handler.create(this, this.onClickBtnStart, undefined, true);\n  }\n\n  public onOpened(param: any): void {\n    super.onOpened(param);\n    console.warn(`11111 MahjongHomeMdr.onOpened...`, param);\n  }\n\n  public onClosed(type?: string): void {\n    super.onClosed(type);\n  }\n\n  private onClickBtnStart(): void {\n    Scene.open(\"modules/mahjong/Mahjong.scene\");\n  }\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { LayerIndex, setLayerIndex } from \"@base/LayerManager\";\nimport { IMahjongResultParam, MahjongEvent } from \"@def/mahjong\";\nimport { eventMgr } from \"@base/event/EventManager\";\nimport { MahjongProxy } from \"../model/MahjongProxy\";\nimport ComUtils from \"@base/utils/ComUtils\";\nimport Label = Laya.Label;\nimport Scene = Laya.Scene;\nimport Event = Laya.Event;\n\n/**\n * 结算弹窗\n * @date 2025/1/19\n */\nexport default class MahjongResultMdr extends ui.modules.mahjong.MahjongResultUI {\n  private _lab: Label;\n  private _proxy: MahjongProxy;\n  private _param?: IMahjongResultParam;\n\n  createChildren() {\n    super.createChildren();\n    setLayerIndex(this, LayerIndex.MODAL);\n\n    this._proxy = MahjongProxy.ins();\n    this._lab = ComUtils.getNodeByNameList<Label>(this, [\"boxHtml\", \"lab\"]);\n    this.btnHome.once(Event.CLICK, this, this.onClickHome);\n    this.btnNext.once(Event.CLICK, this, this.onClickNext);\n  }\n\n  onOpened(param: any) {\n    super.onOpened(param);\n    this._param = param;\n\n    if (!this._param || !this._param.type) {\n      this._lab.text = `得分: ` + this._proxy.model.levelScore;\n      this.btnNext.text.text = `下一关`;\n      this._proxy.model.challengeSuccess();\n    } else {\n      this._lab.text = `挑战时间已到，挑战失败！`;\n      this.btnNext.text.text = `重新挑战`;\n    }\n  }\n\n  onClosed(type?: string) {\n    super.onClosed(type);\n    this.btnHome.off(Event.CLICK, this, this.onClickHome);\n    this.btnNext.off(Event.CLICK, this, this.onClickNext);\n  }\n\n  private onClickHome(): void {\n    console.warn(\"MahjongResultMdr.onClickHome...\");\n    Scene.open(\"modules/mahjong/MahjongHome.scene\");\n    this.close();\n  }\n\n  private onClickNext(): void {\n    const challengeAgain = this._param && this._param.type === 1;\n    console.warn(`MahjongResultMdr.onClickNext... challengeAgain:${challengeAgain}`);\n    eventMgr.event(MahjongEvent.UPDATE_NEXT, challengeAgain); // true 是重新挑战\n    this.close();\n  }\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport MahjongMdr from \"./modules/mahjong/view/MahjongMdr\"\nimport BarProgress from \"./script/BarProgress\"\nimport MahjongHomeMdr from \"./modules/mahjong/view/MahjongHomeMdr\"\nimport MahjongResultMdr from \"./modules/mahjong/view/MahjongResultMdr\"\n/*\n* 游戏初始化配置;\n*/\nexport default class GameConfig{\n    static width:number=640;\n    static height:number=1136;\n    static scaleMode:string=\"showall\";\n    static screenMode:string=\"none\";\n    static alignV:string=\"middle\";\n    static alignH:string=\"center\";\n    static startScene:any=\"modules/mahjong/MahjongHome.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=false;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"modules/mahjong/view/MahjongMdr.ts\",MahjongMdr);\n        reg(\"script/BarProgress.ts\",BarProgress);\n        reg(\"modules/mahjong/view/MahjongHomeMdr.ts\",MahjongHomeMdr);\n        reg(\"modules/mahjong/view/MahjongResultMdr.ts\",MahjongResultMdr);\n    }\n}\nGameConfig.init();","import GameConfig from \"./GameConfig\";\nimport { initLayerMgr } from \"@base/LayerManager\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\n\nclass Main {\n  constructor() {\n    //根据IDE设置初始化引擎\n    if (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\n    else Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n    Laya[\"Physics\"] && Laya[\"Physics\"].enable();\n    Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n    Laya.stage.scaleMode = GameConfig.scaleMode;\n    Laya.stage.screenMode = GameConfig.screenMode;\n    Laya.stage.alignV = GameConfig.alignV;\n    Laya.stage.alignH = GameConfig.alignH;\n    //兼容微信不支持加载scene后缀场景\n    Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n    //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\n    if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n    if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n    if (GameConfig.stat) Laya.Stat.show();\n    Laya.alertGlobalError(true);\n\n    //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\n    Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\n    initLayerMgr();\n    initLoop();\n    GameCfg.init();\n  }\n\n  onVersionLoaded(): void {\n    //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\n    Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n  }\n\n  onConfigLoaded(): void {\n    //加载IDE指定的场景\n    GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n  }\n}\n\nlet _lastLoop = 0;\nlet _rawLoop: () => boolean;\nlet stage: {\n  _loop: () => boolean;\n};\n\nconst enum UpdateFrame {\n  FAST = 16,\n  SLOW = 33,\n  SLEEP = 1000,\n}\n\nfunction _loop(): boolean {\n  const now = Date.now();\n  const elapsed = now - _lastLoop;\n  if (elapsed < UpdateFrame.SLOW) {\n    return false;\n  }\n  _lastLoop = now;\n  try {\n    if (_rawLoop) {\n      _rawLoop.call(Laya.stage);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n  base.baseLoop();\n  return true;\n}\n\nfunction initLoop(): void {\n  stage = <any>Laya.stage;\n  _rawLoop = stage._loop;\n  stage._loop = _loop;\n}\n\nsetInterval(_bgLoop, 1);\n\nfunction _bgLoop(): void {\n  const now = Date.now();\n  const elapsed = now - _lastLoop;\n  if (elapsed < UpdateFrame.SLOW * 1.5) {\n    return;\n  }\n  _loop();\n}\n\n//激活启动类\nnew Main();\n"],"names":["Scene","Handler","Sprite","poolMgr","Event","Image"],"mappings":"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"}