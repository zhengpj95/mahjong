{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/base/LayerManager.ts","../../src/modules/misc/RuleMdr.ts","../../src/script/ClickScale.ts","../../src/base/utils/ComUtils.ts","../../src/modules/misc/TipsMdr.ts","../../src/modules/mahjong/view/MahjongMdr.ts","../../src/script/BarProgress.ts","../../src/modules/mahjong/view/MahjongHomeMdr.ts","../../src/modules/mahjong/view/MahjongResultMdr.ts","../../src/GameConfig.ts","../../src/base/utils/DebugUtils.ts","../../src/base/cfg/GameCfg.ts","../../src/modules/misc/index.ts","../../src/base/astar/AStar.ts","../../src/base/astar/AStarConst.ts","../../src/base/astar/Grid.ts","../../src/base/astar/AStarMgr.ts","../../src/modules/mahjong/MahjongConst.ts","../../src/modules/mahjong/model/MahjongCardData.ts","../../src/modules/mahjong/model/MahjongModel.ts","../../src/platform/PlatformConst.ts","../../src/platform/Platform.ts","../../src/platform/WechatAdapter.ts","../../src/platform/WebAdapter.ts","../../src/platform/AdapterFactory.ts","../../src/platform/index.ts","../../src/modules/mahjong/model/MahjongProxy.ts","../../src/modules/mahjong/index.ts","../../src/modules/index.ts","../../src/base/logger.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\nimport Dialog=Laya.Dialog;\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.modules.common {\n    export class RuleUI extends View {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/common/Rule\");\n        }\n    }\n    REG(\"ui.modules.common.RuleUI\",RuleUI);\n}\nexport module ui.modules.mahjong {\n    export class MahjongUI extends Scene {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/Mahjong\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongUI\",MahjongUI);\n    export class MahjongHomeUI extends View {\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/MahjongHome\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongHomeUI\",MahjongHomeUI);\n    export class MahjongResultUI extends View {\n\t\tpublic btnNext:Laya.Image;\n\t\tpublic btnHome:Laya.Image;\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.loadScene(\"modules/mahjong/MahjongResult\");\n        }\n    }\n    REG(\"ui.modules.mahjong.MahjongResultUI\",MahjongResultUI);\n}","/**\n * @author zpj\n * @date 2025/1/19\n */\nimport Sprite = Laya.Sprite;\nimport Scene = Laya.Scene;\nimport View = Laya.View;\n\nexport enum LayerIndex {\n  ROOT = 1,\n  MODAL = 2,\n  TIPS = 3\n}\n\nexport function setLayerIndex(scene: Scene | View, idx: LayerIndex = LayerIndex.ROOT): void {\n  if (scene) {\n    scene[\"_layerIndex_\"] = idx;\n  }\n}\n\nclass LayerManager {\n  public init(): void {\n    Scene.root;\n    this.modal;\n    this.tips;\n  }\n\n  // modalå±‚\n  private _modal: Sprite;\n  public get modal(): Sprite {\n    if (!this._modal) {\n      this._modal = new Sprite();\n      Scene[\"_modal_\"] = Laya.stage.addChildAt(this._modal, 1);\n      const modal: Sprite = Scene[\"_modal_\"];\n      modal.name = \"modal\";\n      modal.mouseThrough = true;\n\n      Laya.stage.on(\"resize\", null, () => {\n        modal.size(Laya.stage.width, Laya.stage.height);\n        modal.event(Laya.Event.RESIZE);\n      });\n      modal.size(Laya.stage.width, Laya.stage.height);\n      modal.event(Laya.Event.RESIZE);\n    }\n    return this._modal;\n  }\n\n  // tipså±‚\n  private _tips: Sprite;\n  public get tips(): Sprite {\n    if (!this._tips) {\n      this._tips = new Sprite();\n      Scene[\"_tips_\"] = Laya.stage.addChildAt(this._tips, 2);\n      const tips: Sprite = Scene[\"_tips_\"];\n      tips.name = \"tips\";\n      tips.mouseThrough = true;\n\n      Laya.stage.on(\"resize\", null, () => {\n        tips.size(Laya.stage.width, Laya.stage.height);\n        tips.event(Laya.Event.RESIZE);\n      });\n      tips.size(Laya.stage.width, Laya.stage.height);\n      tips.event(Laya.Event.RESIZE);\n    }\n    return this._tips;\n  }\n}\n\n// å¼¹çª—é®ç½©å±‚å¤„ç†\nlet sprite: Sprite;\n\nfunction createPopupMask(): Sprite {\n  if (!sprite) {\n    sprite = new Sprite();\n    sprite.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000CC\");\n  }\n  sprite.name = \"popup_mask\";\n  // sprite.mouseThrough = true;\n  // sprite.mouseEnabled = true;\n  return sprite;\n}\n\nexport function addPopupMask(): void {\n  const mask = createPopupMask();\n  mask.removeSelf();\n  layerMgr.modal.addChildAt(mask, 0);\n}\n\nexport function removePopupMask(): void {\n  const mask = createPopupMask();\n  mask.removeSelf();\n}\n\nexport let layerMgr: LayerManager;\n\nexport function initLayerMgr(): void {\n  layerMgr = new LayerManager();\n  layerMgr.init();\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { addPopupMask, LayerIndex, removePopupMask, setLayerIndex } from \"@base/LayerManager\";\nimport Image = Laya.Image;\nimport Label = Laya.Label;\nimport RuleUI = ui.modules.common.RuleUI;\n\n/**\n * @author zpj\n * @date 2025/4/23\n */\nexport default class RuleMdr extends RuleUI {\n  private _btnClose: Image;\n\n  public createChildren(): void {\n    super.createChildren();\n    setLayerIndex(this, LayerIndex.MODAL);\n    addPopupMask();\n  }\n\n  public onOpened(param?: any): void {\n    super.onOpened(param);\n\n    const labDesc = <Label>this.getChildByName(\"boxInfo\").getChildByName(\"labDesc\");\n    labDesc.text = param;\n    this._btnClose = <Image>this.getChildByName(\"boxInfo\").getChildByName(\"btnClose\");\n    this._btnClose.once(Laya.Event.CLICK, this, this.close);\n  }\n\n  onDestroy() {\n    super.onDestroy();\n    console.log(`11111 destroy`);\n  }\n\n  onClosed(type?: string) {\n    super.onClosed(type);\n    console.log(`11111 closed`);\n    removePopupMask();\n  }\n}","import Script = Laya.Script;\nimport UIComponent = Laya.UIComponent;\nimport CallBack = base.CallBack;\n\nconst CLICK_SCALE_DOWN = 1.1;\nconst CLICK_SCALE_UP = 0.90;\nconst CLICK_SCALE_TIME = 100;\n\n/**\n * æŒ‰é’®ç‚¹å‡»ç¼©æ”¾æ•ˆæœ\n * ä¸è¦ä½¿ç”¨çº¦æŸï¼ˆleft,right,top,bottom,centerX,centerYï¼‰\n * @date 2025/4/25\n */\nexport default class ClickScale extends Script {\n  /** @prop {name:noScale,tips:\"ç‚¹å‡»ä¸ç¼©æ”¾æ•ˆæœ,é»˜è®¤ï¼šfalse\",type:Check,default=false} */\n  public noScale = false;\n\n  private _comp: UIComponent;\n  private _width: number;\n  private _height: number;\n  private _originX: number = 0;\n  private _originY: number = 0;\n  private _originScaleX = 1; // åˆå§‹å°ºå¯¸\n  private _originScaleY = 1;\n  private _isTween = false;\n\n  public onAwake(): void {\n    super.onAwake();\n    this._comp = <UIComponent>this.owner;\n    this._width = this._comp.width;\n    this._height = this._comp.height;\n    this._originX = this._comp.x;\n    this._originY = this._comp.y;\n    this._originScaleX = this._comp.scaleX;\n    this._originScaleY = this._comp.scaleY;\n    this._isTween = false;\n  }\n\n  public onEnable(): void {\n    super.onEnable();\n    this.setAnchor();\n    this._comp.on(Laya.Event.MOUSE_DOWN, this, this.onClickMouseDown);\n    this._comp.on(Laya.Event.MOUSE_UP, this, this.onClickMouseUp);\n    this._comp.on(Laya.Event.MOUSE_OUT, this, this.onClickMouseUp);\n  }\n\n  public destroy(): void {\n    super.destroy();\n  }\n\n  private setAnchor(): void {\n    if (this.noScale) return;\n    this._comp.anchorX = this._comp.anchorY = 0.5;\n    this._comp.x = this._originX + this._width * 0.5;\n    this._comp.y = this._originY + this._height * 0.5;\n  }\n\n  private onClickMouseDown(): void {\n    if (this.noScale) return;\n    this._isTween = false;\n    base.tweenMgr.remove(this._comp);\n    base.tweenMgr.get(this._comp).to({ scaleX: CLICK_SCALE_DOWN, scaleY: CLICK_SCALE_DOWN }, CLICK_SCALE_TIME);\n  }\n\n  private onClickMouseUp(): void {\n    if (this.noScale\n      || this._isTween\n      || (this._comp.scaleX === this._originScaleX &&\n        this._comp.scaleY === this._originScaleY)) {\n      return;\n    }\n    this._isTween = true;\n    base.tweenMgr.remove(this._comp);\n    base.tweenMgr.get(this._comp).to({\n      scaleX: CLICK_SCALE_UP,\n      scaleY: CLICK_SCALE_UP\n    }, CLICK_SCALE_TIME, undefined, CallBack.alloc(this, this.onMouseUpEnd));\n  }\n\n  private onMouseUpEnd(): void {\n    base.tweenMgr.remove(this._comp);\n    base.tweenMgr.get(this._comp).to({\n      scaleX: this._originScaleX,\n      scaleY: this._originScaleY\n    }, CLICK_SCALE_TIME);\n  }\n}","import TimeLine = Laya.TimeLine;\nimport UIComponent = Laya.UIComponent;\nimport Handler = Laya.Handler;\nimport Event = Laya.Event;\nimport Node = Laya.Node;\n\n/**\n * @date 2024/12/23\n */\nexport default class ComUtils {\n  /** ç»„ä»¶æŠ–åŠ¨ */\n  public static setTween(box: UIComponent, isTween = true, callback?: Handler): TimeLine | undefined {\n    if (!box) {\n      return undefined;\n    }\n    let timeLine = <TimeLine>box[\"_timeLine_\"];\n    if (timeLine) {\n      timeLine.reset();\n      if (!isTween) {\n        timeLine.destroy();\n        return undefined;\n      }\n    } else {\n      box[\"_timeLine_\"] = timeLine = new TimeLine();\n    }\n    timeLine.to(box, { rotation: 10 }, 100)\n      .to(box, { rotation: -10 }, 100)\n      .to(box, { rotation: 5 }, 100)\n      .to(box, { rotation: -5 }, 100)\n      .to(box, { rotation: 0 }, 50)\n      .play();\n    timeLine.on(Event.COMPLETE, this, () => {\n      if (callback) {\n        callback.run();\n      }\n    });\n    return timeLine;\n  }\n\n  public static setScale(box: UIComponent, scale = 1): void {\n    if (!box) {\n      return;\n    }\n    if (box.scaleX !== scale) {\n      box.scaleX = box.scaleY = scale;\n    }\n  }\n\n  /**æ ¹æ®åç§°è·å–å¯¹åº”ç»„ä»¶*/\n  public static getNodeByNameList<T extends Node>(box: Node, nameList: string | string[]): T | undefined {\n    if (!box) {\n      return undefined;\n    }\n    if (Array.isArray(nameList)) {\n      let com = box;\n      while (nameList.length) {\n        const name = nameList.shift();\n        com = <UIComponent>com.getChildByName(name);\n        if (!com) {\n          console.error(`ComUtils.getNodeByNameList error: `, name);\n        }\n      }\n      return <T>com;\n    } else {\n      return <T>box.getChildByName(nameList);\n    }\n  }\n}","import Box = Laya.Box;\nimport Label = Laya.Label;\nimport Image = Laya.Image;\nimport Timer = Laya.Timer;\nimport Tween = Laya.Tween;\nimport Handler = Laya.Handler;\nimport Sprite = Laya.Sprite;\nimport poolMgr = base.poolMgr;\nimport PoolObject = base.PoolObject;\nimport { layerMgr } from \"@base/LayerManager\";\n\nclass TipsItem extends Box implements PoolObject {\n  private _img: Image;\n  private _lab: Label;\n\n  public onAlloc(): void {\n    this.size(600, 35);\n    this.centerX = 0;\n    this.centerY = -100;\n    if (!this._img) {\n      this._img = new Image();\n      this._img.skin = `modules/common/img_blank.png`;\n      this._img.left = this._img.right = this._img.bottom = this._img.top = 0;\n      this._img.sizeGrid = `3,8,6,5`;\n      this.addChild(this._img);\n    }\n    if (!this._lab) {\n      this._lab = new Label();\n      this._lab.fontSize = 22;\n      this._lab.color = \"#ffffff\";\n      this._lab.centerX = 0;\n      this._lab.centerY = 1;\n      this.addChild(this._lab);\n    }\n    this.alpha = 1;\n    this._lab.text = \"\";\n  }\n\n  public onFree(): void {\n    this.alpha = 1;\n    if (this._lab) {\n      this._lab.text = \"\";\n    }\n  }\n\n  public set text(str: string) {\n    this._lab.text = str;\n  }\n\n  public execTween(): void {\n    Tween.clearAll(this);\n    Tween.to(this, { alpha: 0.8 }, 800, null, Handler.create(this, this.execTweenEnd, null, true), 800);\n  }\n\n  private execTweenEnd(): void {\n    this.removeSelf();\n    Tween.clearAll(this);\n    poolMgr.free(this);\n  }\n}\n\n/**\n * tipsé£˜å­—æç¤º\n * @author zpj\n * @date 2025/2/16\n */\nclass TipsMdr extends Box {\n  private _sprite: Sprite;\n  private _tipsList: TipsItem[] = [];\n  private _timer: Timer;\n  private _showMaxNum = 5;\n\n  constructor() {\n    super();\n    if (!this._sprite) {\n      this._sprite = new Sprite();\n      this._sprite.size(Laya.stage.width, Laya.stage.height);\n      this.addChild(this._sprite);\n    }\n    this.size(Laya.stage.width, Laya.stage.height);\n    layerMgr.tips.addChild(this);\n  }\n\n  public addTips(str: string | string[]): void {\n    if (Array.isArray(str)) {\n      for (let strItem of str) {\n        const tipsItem = poolMgr.alloc(TipsItem);\n        tipsItem.text = strItem;\n        this._tipsList.push(tipsItem);\n      }\n    } else {\n      const tipsItem = poolMgr.alloc(TipsItem);\n      tipsItem.text = str;\n      this._tipsList.push(tipsItem);\n    }\n\n    if (!this._timer) {\n      this._timer = new Timer();\n      this._timer.loop(100, this, this.onUpdate);\n      this.onUpdate();\n    }\n  }\n\n  private onUpdate(): void {\n    if (!this._tipsList.length) {\n      this._timer.clearAll(this);\n      this._timer = undefined;\n      return;\n    }\n    const existSize = this._sprite.numChildren;\n    if (existSize >= this._showMaxNum) {\n      return;\n    }\n    for (let i = 0; i < existSize; i++) {\n      const item = <TipsItem>this._sprite.getChildAt(i);\n      if (item) {\n        item.y = item.y - (item.height + 5);\n      }\n    }\n    const tipsItem = this._tipsList.shift();\n    this._sprite.addChild(tipsItem);\n    tipsItem.execTween();\n  }\n}\n\nlet mdr: TipsMdr | undefined;\n\nexport function showTips(str: string): void {\n  if (!mdr) {\n    mdr = new TipsMdr();\n  }\n  mdr.addTips(str);\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { MahjongProxy } from \"../model/MahjongProxy\";\nimport ComUtils from \"@base/utils/ComUtils\";\nimport { MahjongEvent, MahjongScoreType } from \"@def/mahjong\";\nimport { showTips } from \"../../misc/TipsMdr\";\nimport { MahjongCardData } from \"../model/MahjongCardData\";\nimport { BarProgressComp } from \"@script/index\";\nimport { ModuleType, ProxyType } from \"@def/module-type\";\nimport List = Laya.List;\nimport Handler = Laya.Handler;\nimport Box = Laya.Box;\nimport Image = Laya.Image;\nimport Event = Laya.Event;\nimport SoundManager = Laya.SoundManager;\nimport Label = Laya.Label;\nimport CallBack = base.CallBack;\nimport Scene = Laya.Scene;\nimport eventMgr = base.eventMgr;\n\ntype BoxRender = Box & {\n  boxCard: Box & {\n    img: Image\n  }\n}\n\ntype BoxCard = Box & {\n  img: Image\n  imgSelected: Image;\n}\n\nconst INIT_SCALE = 0.4;\nconst BIG_SCALE = 0.42;\n\nconst ruleDesc = `1.ç‚¹å‡»ä¸¤å¼ ç›¸åŒç‰Œï¼Œç”¨â‰¤3æ¡ç›´çº¿è¿æ¥ï¼ˆå¯æ‹å¼¯ï¼‰\\n\n2.è·¯å¾„æ— é˜»æŒ¡å³å¯æ¶ˆé™¤\\n \n3.âš¡è¿å‡»åŠ åˆ†ï¼Œæ¶ˆé™¤é—´éš”è¶ŠçŸ­ï¼Œåˆ†æ•°åŠ æˆè¶Šé«˜ï¼\\n\n4.ğŸ’¡ ç”¨ æç¤ºï¼ˆæ‰£5åˆ†ï¼‰ ğŸ‘‰ æ˜¾ç¤ºå¯æ¶ˆçš„ä¸€å¯¹ç‰Œ\\n\n5.ç”¨ æ´—ç‰Œï¼ˆæ‰£10åˆ†ï¼‰ğŸ‘‰ é‡ç½®å‰©ä½™ç‰Œä½ç½®`;\n\n/**\n * @date 2024/12/22\n */\nexport default class MahjongMdr extends ui.modules.mahjong.MahjongUI {\n  private _proxy: MahjongProxy;\n  private _list: List;\n  private _preIdx = -1;\n  private _btnTips: Image;\n  private _btnRefresh: Image;\n  private _lastScoreTime = 0;\n  private _endTime = 0;\n  private _btnRule: Image;\n\n  constructor() {\n    super();\n    this._proxy = base.facade.getProxy(ModuleType.MAHJONG, ProxyType.MAHJONG);\n  }\n\n  public createChildren(): void {\n    super.createChildren();\n    this._list = <List>this.getChildByName(\"listItem\");\n    this._list.renderHandler = Handler.create(this, this.onRenderListItem, undefined, false);\n\n    this._btnTips = <Image>this.getChildByName(\"btnTips\");\n    this._btnRefresh = <Image>this.getChildByName(\"btnRefresh\");\n    this._btnTips.on(Laya.Event.CLICK, this, this.onBtnTips);\n    this._btnRefresh.on(Laya.Event.CLICK, this, this.onBtnRefresh);\n\n    this._btnRule = <Image>this.getChildByName(\"btnRule\");\n    this._btnRule.on(Laya.Event.CLICK, this, this.onClickRule);\n\n    eventMgr.on(MahjongEvent.UPDATE_INFO, this.onRefreshNext, this);\n    eventMgr.on(MahjongEvent.UPDATE_NEXT, this.onRefreshNext, this);\n    eventMgr.on(MahjongEvent.SHOW_RESULT, this.showResultToClear, this);\n    eventMgr.on(MahjongEvent.UPDATE_SCORE, this.updateScore, this);\n  }\n\n  public onOpened(param: any): void {\n    super.onOpened(param);\n    this._proxy.model.clearData();\n    this.onRefreshNext();\n  }\n\n  public onClosed(type?: string): void {\n    super.onClosed(type);\n    this._preIdx = -1;\n    this._btnTips.off(Laya.Event.CLICK, this, this.onBtnTips);\n    this._btnRefresh.off(Laya.Event.CLICK, this, this.onBtnRefresh);\n  }\n\n  private onRefreshNext(data?: boolean): void {\n    console.warn(`11111 onRefreshNext cLv:${this._proxy.model.level}, nLv:${this._proxy.model.getNextLevel()}`);\n    this._proxy.model.showNext(data);\n\n    this.resetScore();\n    this.updateLevel();\n    const list = this._proxy.model.getMahjongData();\n    this._list.array = list.reduce((a, b) => a.concat(b));\n    this.updateBar();\n  }\n\n  private updateBar(): void {\n    const now = Date.now() / 1000 >> 0;\n    this._endTime = now + this._proxy.model.getChallengeTime();\n    const bar = <BarProgressComp>this.getChildByName(\"bar\");\n    bar.value = 1;\n    base.tweenMgr.remove(bar);\n    base.tweenMgr.get(bar).to({ value: 0 }, (this._endTime - now) * 1000, null, CallBack.alloc(this, this.onTimeOut, true));\n  }\n\n  // å±•ç¤ºç»“ç®—å¼¹çª—æ—¶å€™ï¼Œæ¸…é™¤æ“ä½œ\n  private showResultToClear(): void {\n    const bar = <Box>this.getChildByName(\"bar\");\n    base.tweenMgr.remove(bar);\n  }\n\n  // å¤±è´¥ç»“æŸ\n  private onTimeOut(): void {\n    this._proxy.model.showResult({ type: 1 });\n  }\n\n  private onRenderListItem(item: BoxRender, index: number): void {\n    const boxCard = <BoxCard>item.getChildByName(\"boxCard\");\n    const img = ComUtils.getNodeByNameList<Image>(boxCard, [\"img\"]);\n    const data: MahjongCardData = item.dataSource;\n    if (!data) {\n      img.skin = \"\";\n      return;\n    }\n    item.tag = data;\n    img.skin = data.getIcon();\n    ComUtils.setScale(boxCard, INIT_SCALE);\n    this.setSelect(boxCard, false);\n\n    item.on(Event.CLICK, this, this.onClickItem, [index]);\n  }\n\n  private onClickItem(index: number): void {\n    if (this._preIdx > -1 && index === this._preIdx) {\n      // åŒä¸€ä¸ªç‰Œï¼Œåˆ™æ¸…é™¤\n      const boxCard = <BoxCard>this._list.getCell(index).getChildByName(\"boxCard\");\n      this._preIdx = -1;\n      ComUtils.setScale(boxCard, INIT_SCALE);\n      this.setSelect(boxCard, false);\n      return;\n    }\n\n    SoundManager.playSound(\"audio/mixkit-flop.wav\");\n    if (this._preIdx > -1 && index !== this._preIdx) {\n      const curItemData: MahjongCardData = this._list.getItem(index);\n      const preItemData: MahjongCardData = this._list.getItem(this._preIdx);\n      const curItem = <BoxCard>this._list.getCell(index).getChildByName(\"boxCard\");\n      const preItem = <BoxCard>this._list.getCell(this._preIdx).getChildByName(\"boxCard\");\n      if (curItemData && curItemData.checkSame(preItemData)\n        && this._proxy.model.canConnect(preItemData, curItemData)) {\n        ComUtils.setScale(curItem, BIG_SCALE);\n        this.clearCardItem(curItem, index);\n        this.setSelect(curItem, true);\n        this.clearCardItem(preItem, this._preIdx);\n        this.addScore();\n      } else {\n        ComUtils.setScale(curItem, INIT_SCALE);\n        ComUtils.setScale(preItem, INIT_SCALE);\n        this.setSelect(curItem, false);\n        this.setSelect(preItem, false);\n      }\n      this._preIdx = -1;\n    } else {\n      const item = this._list.getCell(index);\n      const cardData = <MahjongCardData>item.dataSource;\n      if (!cardData || !cardData.isValid()) {\n        this._preIdx = -1;\n        return;\n      }\n      this._preIdx = index;\n      const boxCard = <BoxCard>item.getChildByName(\"boxCard\");\n      ComUtils.setScale(boxCard, BIG_SCALE);\n      this.setSelect(boxCard, true);\n    }\n  }\n\n  private updateLevel(): void {\n    const lab = <Label>this.getChildByName(\"labLevel\");\n    lab.text = \"å…³å¡ï¼š\" + this._proxy.model.getNextLevel();\n  }\n\n  private addScore(): void {\n    const now = Date.now();\n    const diffTime = now - this._lastScoreTime;\n    let score = 1; // æ¶ˆé™¤é—´éš”ä¸åŒï¼ŒåŠ åˆ†ä¸åŒ\n    if (diffTime < 2 * 1000) {\n      score = 5;\n    } else if (diffTime < 5 * 1000) {\n      score = 3;\n    }\n    this._lastScoreTime = now;\n    this._proxy.model.updateScore(score);\n    this.updateScore();\n  }\n\n  private updateScore(): void {\n    const lab = ComUtils.getNodeByNameList<Label>(this, [\"boxScore\", \"lab\"]);\n    lab.text = this._proxy.model.levelScore + \"\";\n    lab.color = this._proxy.model.levelScore > 0 ? \"#42e422\" : \"#ff4646\";\n  }\n\n  private resetScore(): void {\n    this._lastScoreTime = 0;\n    const lab = ComUtils.getNodeByNameList<Label>(this, [\"boxScore\", \"lab\"]);\n    lab.text = \"0\";\n  }\n\n  private clearCardItem(box: BoxCard, index: number): void {\n    const idx = index;\n    ComUtils.setTween(box, true, Handler.create(this, () => {\n      const curImg = box.getChildByName(\"img\") as Image;\n      curImg.skin = \"\";\n      const imgSel = box.getChildByName(\"imgSelected\") as Image;\n      imgSel.visible = false;\n      this._proxy.model.deleteCard(idx);\n    }));\n  }\n\n  private setSelect(boxCard: BoxCard, isSel = false): void {\n    const imgSel = ComUtils.getNodeByNameList<Image>(boxCard, [\"imgSelected\"]);\n    if (imgSel) imgSel.visible = isSel;\n  }\n\n  // æç¤º\n  private onBtnTips(): void {\n    // æ£€æŸ¥æ¬¡æ•°ï¼Œæœ‰å°±ç»§ç»­ï¼Œæ²¡æœ‰åˆ™æ‹‰èµ·å¹¿å‘Šï¼Œç»™äºˆæ¬¡æ•° todo\n    const cardList = this._proxy.model.getTipsCardDataList();\n    if (cardList.length) {\n      const cells = this._list.cells || [];\n      for (let card of cardList) {\n        const idx = card.row * this._proxy.model.col + card.col;\n        const cardItem = <BoxCard>cells[idx].getChildByName(\"boxCard\");\n        if (cardItem) {\n          ComUtils.setTween(cardItem);\n        }\n      }\n    } else {\n      showTips(\"æ— å¯æ¶ˆé™¤çš„å¡ç‰Œï¼Œè¯·æ´—ç‰Œ\");\n    }\n    this._proxy.model.updateScore(-MahjongScoreType.TIPS);\n  }\n\n  // æ´—ç‰Œ\n  private onBtnRefresh(): void {\n    // æ£€æŸ¥æ¬¡æ•°ï¼Œæœ‰å°±ç»§ç»­ï¼Œæ²¡æœ‰åˆ™æ‹‰èµ·å¹¿å‘Šï¼Œç»™äºˆæ¬¡æ•° todo\n    const list = this._proxy.model.getRefreshCardDataList();\n    this._list.array = list.reduce((a, b) => a.concat(b));\n    this._list.refresh();\n    showTips(\"æ´—ç‰ŒæˆåŠŸï¼\");\n    this._proxy.model.updateScore(-MahjongScoreType.REFRESH);\n  }\n\n  private onClickRule(): void {\n    Scene.open(\"modules/common/Rule.scene\", false, ruleDesc);\n  }\n}","import Script = Laya.Script;\nimport Box = Laya.Box;\nimport Image = Laya.Image;\nimport Label = Laya.Label;\n\nfunction createImgMask(): Image {\n  const img = new Image();\n  img.skin = `modules/common/img_blank.png`;\n  img.width = img.height = 0;\n  img.sizeGrid = \"4,5,7,6\";\n  return img;\n}\n\n/**\n * è¿›åº¦æ¡\n * @date 2025/3/15\n */\nexport default class BarProgress extends Script {\n  private _imgBar: Image;\n  private _imgMask: Image;\n  private _lab: Label;\n\n  public onAwake(): void {\n    super.onAwake();\n    const owner = <Box>this.owner;\n    this._imgBar = <Image>owner.getChildByName(\"imgBar\");\n    this._lab = <Label>owner.getChildByName(\"lab\");\n    if (!this._imgMask) {\n      this._imgMask = createImgMask();\n      this._imgMask.height = this._imgBar.height;\n      this._imgBar.mask = this._imgMask;\n    }\n\n    Object.defineProperty(this.owner, \"value\", {\n      configurable: true,\n      enumerable: true,\n      get: () => {\n        return this.value;\n      },\n      set: (v: number): void => {\n        this.value = v;\n      }\n    });\n  }\n\n  public onEnable(): void {\n    super.onEnable();\n  }\n\n  public onDestroy(): void {\n    super.onDestroy();\n  }\n\n  private getImgWidth(): number {\n    if (!this._imgBar || !this._imgBar.width) {\n      const func = this._imgBar[\"_sizeChanged\"];\n      if (func) {\n        func();\n      }\n    }\n    return this._imgBar ? this._imgBar.width : 0;\n  }\n\n  public set value(val: number) {\n    if (this._imgMask && this._imgBar) {\n      const width = val * this.getImgWidth() >> 0;\n      this._imgMask.width = width;\n      this._imgBar.visible = width >= 1;\n    }\n  }\n\n  public get value(): number {\n    if (this._imgMask && this._imgBar) {\n      return this._imgMask.width / this._imgBar.width;\n    }\n    return 0;\n  }\n}","import { ui } from \"@ui/layaMaxUI\";\nimport Scene = Laya.Scene;\nimport Image = Laya.Image;\n\n/**\n * @author zpj\n * @date 2025/1/21\n */\nexport default class MahjongHomeMdr extends ui.modules.mahjong.MahjongHomeUI {\n  private _btnStart: Image;\n\n  public createChildren(): void {\n    super.createChildren();\n    this._btnStart = <Image>this.getChildByName(\"btnStart\");\n    this._btnStart.on(Laya.Event.CLICK, this, this.onClickBtnStart);\n  }\n\n  public onOpened(param: any): void {\n    super.onOpened(param);\n    console.warn(`11111 MahjongHomeMdr.onOpened...`, param);\n  }\n\n  public onClosed(type?: string): void {\n    super.onClosed(type);\n    this._btnStart.offAll(Laya.Event.CLICK);\n  }\n\n  private onClickBtnStart(): void {\n    Scene.open(\"modules/mahjong/Mahjong.scene\");\n  }\n}","import { ui } from \"@ui/layaMaxUI\";\nimport { addPopupMask, LayerIndex, removePopupMask, setLayerIndex } from \"@base/LayerManager\";\nimport { IMahjongResultParam, MahjongEvent } from \"@def/mahjong\";\nimport { MahjongProxy } from \"../model/MahjongProxy\";\nimport ComUtils from \"@base/utils/ComUtils\";\nimport { ModuleType, ProxyType } from \"@def/module-type\";\nimport Label = Laya.Label;\nimport MahjongResultUI = ui.modules.mahjong.MahjongResultUI;\nimport Scene = Laya.Scene;\nimport eventMgr = base.eventMgr;\n\n/**\n * ç»“ç®—å¼¹çª—\n * @date 2025/1/19\n */\nexport default class MahjongResultMdr extends MahjongResultUI {\n  private _lab: Label;\n  private _proxy: MahjongProxy;\n  private _param?: IMahjongResultParam;\n\n  createChildren() {\n    super.createChildren();\n    setLayerIndex(this, LayerIndex.MODAL);\n    addPopupMask();\n  }\n\n  onOpened(param: any) {\n    super.onOpened(param);\n    this._proxy = base.facade.getProxy(ModuleType.MAHJONG, ProxyType.MAHJONG);\n    this._param = param;\n\n    this._lab = ComUtils.getNodeByNameList<Label>(this, [\"boxHtml\", \"lab\"]);\n    this.btnHome.on(Laya.Event.CLICK, this, this.onClickHome);\n    this.btnNext.on(Laya.Event.CLICK, this, this.onClickNext);\n\n    const btnNextLab = <Label>this.btnNext.getChildByName(\"lab\");\n    if (!this._param || !this._param.type) {\n      this._lab.text = `å¾—åˆ†: ` + this._proxy.model.levelScore;\n      btnNextLab.text = `ä¸‹ä¸€å…³`;\n      this._proxy.cMahjongSuccess();\n    } else {\n      this._lab.text = `æŒ‘æˆ˜æ—¶é—´å·²åˆ°ï¼ŒæŒ‘æˆ˜å¤±è´¥ï¼`;\n      btnNextLab.text = `é‡æ–°æŒ‘æˆ˜`;\n    }\n  }\n\n  onClosed(type?: string) {\n    super.onClosed(type);\n    this.btnHome.off(Laya.Event.CLICK, this, this.onClickHome);\n    this.btnNext.off(Laya.Event.CLICK, this, this.onClickNext);\n  }\n\n  private onClickHome(): void {\n    console.warn(\"MahjongResultMdr.onClickHome...\");\n    Scene.open(\"modules/mahjong/MahjongHome.scene\");\n    this.close();\n  }\n\n  private onClickNext(): void {\n    const challengeAgain = this._param && this._param.type === 1;\n    console.warn(`MahjongResultMdr.onClickNext... challengeAgain:${challengeAgain}`);\n    eventMgr.emit(MahjongEvent.UPDATE_NEXT, challengeAgain); // true æ˜¯é‡æ–°æŒ‘æˆ˜\n    this.close();\n  }\n\n  public close(type?: string) {\n    super.close(type);\n    removePopupMask();\n  }\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport RuleMdr from \"./modules/misc/RuleMdr\"\nimport ClickScale from \"./script/ClickScale\"\nimport MahjongMdr from \"./modules/mahjong/view/MahjongMdr\"\nimport BarProgress from \"./script/BarProgress\"\nimport MahjongHomeMdr from \"./modules/mahjong/view/MahjongHomeMdr\"\nimport MahjongResultMdr from \"./modules/mahjong/view/MahjongResultMdr\"\n/*\n* æ¸¸æˆåˆå§‹åŒ–é…ç½®;\n*/\nexport default class GameConfig{\n    static width:number=640;\n    static height:number=1136;\n    static scaleMode:string=\"showall\";\n    static screenMode:string=\"none\";\n    static alignV:string=\"middle\";\n    static alignH:string=\"center\";\n    static startScene:any=\"modules/mahjong/MahjongHome.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=false;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"modules/misc/RuleMdr.ts\",RuleMdr);\n        reg(\"script/ClickScale.ts\",ClickScale);\n        reg(\"modules/mahjong/view/MahjongMdr.ts\",MahjongMdr);\n        reg(\"script/BarProgress.ts\",BarProgress);\n        reg(\"modules/mahjong/view/MahjongHomeMdr.ts\",MahjongHomeMdr);\n        reg(\"modules/mahjong/view/MahjongResultMdr.ts\",MahjongResultMdr);\n    }\n}\nGameConfig.init();","/**\n * @date 2025/1/9\n */\nexport class DebugUtils {\n  public static debug(key: string, cls: any): void {\n    if (!key || !cls) {\n      return;\n    }\n    if (window) {\n      window[key] = cls;\n    }\n  }\n\n  public static debugClass(cls: any): void {\n    if (!cls) {\n      return;\n    }\n    const name = cls.constructor && cls.constructor.name;\n    if (window && name) {\n      window[name] = cls;\n    }\n  }\n\n  public static showDebug = false;\n\n  public static debugLog(str: string | number | any): void {\n    if (this.showDebug) {\n      console.log(`DebugLog: `, str);\n    }\n  }\n}\n\nDebugUtils.debug(\"DebugUtils\", DebugUtils);","import Handler = Laya.Handler;\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/**\n * @author zpj\n * @date 2025/3/19\n */\nexport class GameCfg {\n  private static jsonPath = \"json/\";\n  private static jsonCfgListPath = \"json/cfglist.json\";\n  public static cfgMap: {\n    [cfgName: string]: Record<string, any>;\n  } = {};\n  public static cfgListMap: { [cfgName: string]: any[] } = {};\n\n  public static init(): void {\n    Laya.loader.load(\n      this.jsonCfgListPath,\n      Handler.create(this, this.onLoaded),\n      null,\n      Laya.Loader.JSON,\n      0,\n    );\n  }\n\n  private static onLoaded(data: string[]): void {\n    if (data && data.length) {\n      for (const jsonName of data) {\n        Laya.loader.load(\n          this.jsonPath + jsonName,\n          Handler.create(this, this.onLoadedJson, [jsonName]),\n          null,\n          Laya.Loader.JSON,\n          0,\n        );\n      }\n    }\n  }\n\n  private static onLoadedJson(jsonName: string, data: any): void {\n    // console.log(jsonName, data);\n    jsonName = jsonName.replace(\".json\", \"\");\n    this.cfgMap[jsonName] = data;\n\n    const list: any[] = [];\n    for (const key in data) {\n      list.push(data[key]);\n    }\n    this.cfgListMap[jsonName] = list;\n  }\n\n  /**è·å–é…ç½®åˆ—è¡¨*/\n  public static getCfgListByName<T>(cfgName: string): T[] {\n    return this.cfgListMap[cfgName] || [];\n  }\n\n  /**è·å–é…ç½®å•é¡¹*/\n  public static getCfgByNameId<T>(cfgName: string, id: number | string): T | undefined {\n    const obj = this.cfgMap[cfgName];\n    return obj ? obj[id] : undefined;\n  }\n}\n\nDebugUtils.debug(\"GameCfg\", GameCfg);\n","import BaseModule = base.BaseModule;\nimport { ModuleType } from \"@def/module-type\";\n\n/**\n * @author zpj\n * @date 2025/4/29\n */\nexport class MiscModule extends BaseModule {\n  constructor() {\n    super(ModuleType.MISC);\n  }\n\n  protected initCmd(): void {\n  }\n\n  protected initMdr(): void {\n  }\n\n  protected initProxy(): void {\n  }\n}","import { Grid } from \"./Grid\";\nimport { GridPoint } from \"./AStarConst\";\nimport { DebugUtils } from \"@base/utils/DebugUtils\";\n\n/** é»˜è®¤æ‹ç‚¹æ•° */\nconst DEFAULT_TURN_COUNT = 2;\n/** æ–¹å‘ */\nconst DIRECTION: number[][] = [[0, 1], [1, 0], [0, -1], [-1, 0]];\nconst DIRECTION_NAME = [\"right\", \"down\", \"left\", \"up\"];\n\n/**\n * è¡¨ç¤ºè·¯å¾„æœç´¢ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯\n */\nclass PathNode {\n  public position: GridPoint; // å½“å‰èŠ‚ç‚¹çš„ä½ç½® [x, y]\n  public g: number;           // ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„å®é™…ä»£ä»·\n  public h: number;           // å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„å¯å‘å¼ä¼°è®¡ä»£ä»·\n  public parent: PathNode | null; // å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç”¨äºå›æº¯è·¯å¾„\n  public direction: GridPoint | null; // ä»çˆ¶èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„ç§»åŠ¨æ–¹å‘\n\n  constructor(position: GridPoint, g: number, h: number, parent: PathNode | null = null, direction: GridPoint | null = null) {\n    this.position = position;\n    this.g = g;\n    this.h = h;\n    this.parent = parent;\n    this.direction = direction;\n  }\n\n  /**\n   * è·å–èŠ‚ç‚¹çš„æ€»ä»£ä»· f = g + h\n   */\n  public get f(): number {\n    return this.g + this.h;\n  }\n\n  /**è·¯å¾„ä¿¡æ¯*/\n  private getPathStr(): string {\n    const list: string[] = [this.position.join(\"_\")];\n    let p = this.parent;\n    while (p) {\n      list.push(p.position.join(\"_\"));\n      p = p.parent;\n    }\n    return list.reverse().join(\",\");\n  }\n\n  /**è·¯å¾„ä¿¡æ¯*/\n  public get pathStr(): string {\n    return this.getPathStr();\n  }\n\n  /**æ–¹å‘*/\n  public get directionName(): string {\n    if (!this.direction) {\n      return \"\";\n    }\n    for (let i = 0; i < DIRECTION.length; i++) {\n      if (DIRECTION[i].toString() === this.direction.toString()) {\n        return DIRECTION_NAME[i];\n      }\n    }\n    return \"\";\n  }\n\n  /**\n   * å…¨éƒ¨æ‹ç‚¹æ•°\n   */\n  public getTurnCountTotal(): number {\n    if (!this.parent || !this.parent.direction || !this.direction) {\n      return 0; // èµ·ç‚¹æ²¡æœ‰æ‹ç‚¹\n    }\n    let cnt = 0;\n    let p = this.parent;\n    let d = this.direction;\n    while (p && d) {\n      if (p.direction && d.toString() !== p.direction.toString()) {\n        cnt++;\n      }\n      d = p.direction;\n      p = p.parent;\n    }\n    return cnt;\n  }\n}\n\n/**\n * A* ç®—æ³•ç±»\n */\nexport class AStar {\n  private _grid: Grid; // ç½‘æ ¼å®ä¾‹\n  private _turnCount: number = 0;// æ‹ç‚¹æ•°\n\n  /**\n   * æ„é€ å‡½æ•°\n   * @param grid - Grid å®ä¾‹\n   * @param turnCnt - æ‹ç‚¹æ•°ï¼Œé»˜è®¤2\n   */\n  constructor(grid: Grid, turnCnt = DEFAULT_TURN_COUNT) {\n    this._grid = grid;\n    this._turnCount = turnCnt;\n  }\n\n  /**\n   * å¯å‘å¼å‡½æ•°ï¼Œç”¨äºä¼°è®¡ä»æŸä¸ªç‚¹åˆ°ç›®æ ‡ç‚¹çš„ä»£ä»·\n   * æ­¤å¤„ä½¿ç”¨æ›¼å“ˆé¡¿è·ç¦»\n   * @param a - å½“å‰ç‚¹ [x, y]\n   * @param b - ç›®æ ‡ç‚¹ [x, y]\n   * @returns æ›¼å“ˆé¡¿è·ç¦»\n   */\n  private heuristic(a: GridPoint, b: GridPoint): number {\n    return Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);\n  }\n\n  /**\n   * è·å–æŸä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹\n   * @param node - å½“å‰èŠ‚ç‚¹\n   * @param end - ç›®æ ‡ç‚¹\n   * @returns é‚»å±…èŠ‚ç‚¹çš„ä½ç½®æ•°ç»„å’Œæ–¹å‘\n   */\n  private getNeighbors(node: PathNode, end: GridPoint): [GridPoint, GridPoint][] {\n    const [x, y] = node.position;\n    const list = DIRECTION.map(([dx, dy]) => ([[x + dx, y + dy], [dx, dy]] as [GridPoint, GridPoint]));\n    return list.filter(([pos]) => end[0] === pos[0] && end[1] === pos[1]\n      ? this._grid.isInBounds(pos[0], pos[1])\n      : this._grid.isValid(pos[0], pos[1]));\n  }\n\n  /**\n   * æ‰§è¡Œ A* ç®—æ³•ï¼ŒæŸ¥æ‰¾ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„\n   * @param start - èµ·ç‚¹ [x, y]\n   * @param end - ç»ˆç‚¹ [x, y]\n   * @returns æœ€çŸ­è·¯å¾„çš„æ•°ç»„ï¼Œå¦‚æœæ— è·¯å¾„åˆ™è¿”å›ç©ºæ•°ç»„\n   */\n  public findPath(start: GridPoint, end: GridPoint): GridPoint[] {\n    const openList: PathNode[] = [];        // æ‰“å¼€åˆ—è¡¨ï¼Œå­˜å‚¨å¾…å¤„ç†çš„èŠ‚ç‚¹\n    const closedSet: Set<string> = new Set(); // å…³é—­åˆ—è¡¨ï¼Œå­˜å‚¨å·²å¤„ç†çš„èŠ‚ç‚¹\n    const excludeSet: Set<string> = new Set(); // æ’é™¤çš„è·¯å¾„\n\n    // åˆ›å»ºèµ·ç‚¹èŠ‚ç‚¹å¹¶åŠ å…¥æ‰“å¼€åˆ—è¡¨\n    const startNode = new PathNode(start, 0, this.heuristic(start, end));\n    openList.push(startNode);\n\n    while (openList.length > 0) {\n      // æŒ‰ç…§ f å€¼ + æ‹ç‚¹æ•°æ’åºï¼Œé€‰æ‹©æœ€ä¼˜çš„èŠ‚ç‚¹\n      openList.sort((a, b) => (a.f + a.getTurnCountTotal()) - (b.f + b.getTurnCountTotal()));\n      const currentNode = openList.shift()!; // å½“å‰èŠ‚ç‚¹\n      if (excludeSet.has(currentNode.pathStr)) {\n        continue;\n      }\n      DebugUtils.debugLog(currentNode.pathStr);\n\n      // å¦‚æœåˆ°è¾¾ç»ˆç‚¹ï¼Œåˆ™å›æº¯è·¯å¾„\n      if (currentNode.position[0] === end[0] && currentNode.position[1] === end[1]) {\n        const path: GridPoint[] = [];\n        let node: PathNode | null = currentNode;\n        while (node) {\n          path.unshift(node.position); // å°†è·¯å¾„åå‘æ’å…¥\n          node = node.parent;\n        }\n        return path;\n      }\n\n      // å°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå·²å¤„ç†\n      closedSet.add(currentNode.pathStr);\n\n      // éå†å½“å‰èŠ‚ç‚¹çš„é‚»å±…\n      const neighborList = this.getNeighbors(currentNode, end);\n      for (const [neighbor, direction] of neighborList) {\n        const neighborPath = currentNode.pathStr + \",\" + neighbor.toString();\n        if (closedSet.has(neighborPath) || excludeSet.has(neighborPath)) {\n          continue; // å¦‚æœé‚»å±…å·²å¤„ç†ï¼Œè·³è¿‡\n        }\n\n        const g = currentNode.g + 1; // ä»èµ·ç‚¹åˆ°é‚»å±…çš„å®é™…ä»£ä»·\n        const h = this.heuristic(neighbor, end); // é‚»å±…åˆ°ç›®æ ‡çš„å¯å‘å¼ä»£ä»·\n        const neighborNode = new PathNode(neighbor, g, h, currentNode, direction);\n        if (neighborNode.getTurnCountTotal() > this._turnCount) {\n          excludeSet.add(neighborPath);//æ’é™¤çš„è·¯å¾„\n          continue;\n        }\n        const existingNode = openList.find(node => node.pathStr === neighborPath);\n\n        // å¦‚æœé‚»å±…èŠ‚ç‚¹ä¸åœ¨æ‰“å¼€åˆ—è¡¨æˆ–æ–°çš„è·¯å¾„ä»£ä»·æ›´ä½\n        if (!existingNode || g < existingNode.g) {\n          if (existingNode) {\n            // å¦‚æœé‚»å±…èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œç§»é™¤æ—§çš„èŠ‚ç‚¹\n            openList.splice(openList.indexOf(existingNode), 1);\n          }\n          // å°†é‚»å±…èŠ‚ç‚¹åŠ å…¥æ‰“å¼€åˆ—è¡¨\n          openList.push(neighborNode);\n        }\n      }\n    }\n\n    // å¦‚æœæ‰“å¼€åˆ—è¡¨ä¸ºç©ºä¸”æœªæ‰¾åˆ°è·¯å¾„ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„\n    return [];\n  }\n}\n","/**\n * @date 2025/1/3\n */\n\n// å®šä¹‰ç½‘æ ¼å•å…ƒç±»å‹\nexport enum CellType {\n  WALKABLE = 0, // å¯è¡Œèµ°\n  OBSTACLE = 1, // éšœç¢\n}\n\n// è¡¨ç¤ºç½‘æ ¼ä¸­ç‚¹çš„åæ ‡ç±»å‹ [x, y]\nexport type GridPoint = [number, number];\n","import { CellType } from \"./AStarConst\";\n\n/**\n * Grid ç±»è¡¨ç¤ºä¸€ä¸ªç½‘æ ¼ï¼Œåœ¨è·¯å¾„æœç´¢ä¸­ç”¨äºæ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦æœ‰æ•ˆã€‚\n */\nexport class Grid {\n  private readonly _gridData: CellType[][]; // ç½‘æ ¼æ•°æ®\n\n  /**\n   * æ„é€ å‡½æ•°\n   * @param gridData - äºŒç»´æ•°ç»„ï¼Œè¡¨ç¤ºç½‘æ ¼\n   */\n  constructor(gridData: CellType[][]) {\n    this._gridData = gridData;\n  }\n\n  /**\n   * æ£€æŸ¥ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨ç½‘æ ¼å†…ä¸”å¯é€šè¡Œ\n   * @param x - ç‚¹çš„ x åæ ‡\n   * @param y - ç‚¹çš„ y åæ ‡\n   * @returns å¦‚æœç‚¹æœ‰æ•ˆä¸”å¯é€šè¡Œï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false\n   */\n  public isValid(x: number, y: number): boolean {\n    return this.isInBounds(x, y) && this._gridData[x][y] === CellType.WALKABLE;\n  }\n\n  /**\n   * åˆ¤æ–­ç»™å®šåæ ‡æ˜¯å¦åœ¨ç½‘æ ¼è¾¹ç•Œå†…\n   * @param x åæ ‡ x\n   * @param y åæ ‡ y\n   * @returns å¦‚æœåœ¨è¾¹ç•Œå†…è¿”å› trueï¼Œå¦åˆ™è¿”å› false\n   */\n  public isInBounds(x: number, y: number): boolean {\n    return x >= 0 && x < this.rows && y >= 0 && y < this.cols;\n  }\n\n  public getValue(x: number, y: number): CellType {\n    if (!this.isInBounds(x, y)) {\n      throw new Error(`Grid.getValue(${x}, ${y}) are out of bounds.`);\n    }\n    return this._gridData[x][y];\n  }\n\n  public setValue(x: number, y: number, val: CellType): boolean {\n    if (!this.isInBounds(x, y)) {\n      throw new Error(`Grid.getValue(${x}, ${y}) are out of bounds.`);\n    }\n    this._gridData[x][y] = val;\n    return true;\n  }\n\n  /**\n   * è·å–ç½‘æ ¼çš„å®½åº¦\n   * @returns ç½‘æ ¼çš„åˆ—æ•°\n   */\n  public get cols(): number {\n    return this._gridData[0].length;\n  }\n\n  /**\n   * è·å–ç½‘æ ¼çš„é«˜åº¦\n   * @returns ç½‘æ ¼çš„è¡Œæ•°\n   */\n  public get rows(): number {\n    return this._gridData.length;\n  }\n}\n","/**\n * @date 2025/1/3\n */\nimport { AStar } from \"./AStar\";\nimport { Grid } from \"./Grid\";\nimport { CellType, GridPoint } from \"./AStarConst\";\n\nexport class AStarMgr {\n  private _grid: Grid;\n  private _astar: AStar;\n\n  constructor(data: number[][]) {\n    this.createAStar(data);\n  }\n\n  private createAStar(data: number[][]): void {\n    this._grid = new Grid(data);\n    this._astar = new AStar(this._grid);\n  }\n\n  public updateGrid(point: GridPoint, value: CellType): boolean {\n    if (this._grid) {\n      return this._grid.setValue(point[0], point[1], value);\n    }\n    return false;\n  }\n\n  public findPath(start: GridPoint, end: GridPoint): GridPoint[] {\n    if (this._astar) {\n      return this._astar.findPath(start, end);\n    }\n    return [];\n  }\n}","import { CardType, FengType } from \"@def/mahjong\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport ConfigName = config.ConfigName;\nimport CardConfig = config.CardConfig;\n\n/**\n * @author zpj\n * @date 2025/3/21\n */\n\n// æ¯ç§ç‰Œæ•°é‡\nexport const CARD_COUNT = 4;\n// éå­—ç‰Œçš„æ•°å­—ç±»å‹\nexport const CARD_NUM_LIST: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n// å¡ç‰Œæ ¼å¼ [ç‰Œç±»å‹, ç‰Œæ•°å­—]\nexport type CardData = [CardType, number | FengType]\n\nexport function getCardTypeRes(type: CardType, num: number): string {\n  const cardCfg = GameCfg.getCfgByNameId<CardConfig>(ConfigName.CARD, type);\n  return `modules/mahjong/${cardCfg.res + num}.png`;\n}\n","/**\n * @author zpj\n * @date 2025/3/21\n */\n\nimport { CardData, getCardTypeRes } from \"../MahjongConst\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport ConfigName = config.ConfigName;\nimport CardConfig = config.CardConfig;\nimport PoolObject = base.PoolObject;\n\n/**å•å¼ éº»å°†çš„æ•°æ®*/\nexport class MahjongCardData implements PoolObject {\n  public row: number;\n  public col: number;\n  public cardData: CardData;\n\n  public updateInfo(row: number, col: number, data: CardData): void {\n    this.row = row;\n    this.col = col;\n    this.cardData = data;\n    const cardCfg = GameCfg.getCfgByNameId<CardConfig>(ConfigName.CARD, data[0]);\n    this[\"cardName\"] = cardCfg.res + data[1];\n  }\n\n  public isValid(): boolean {\n    return this.cardData && this.cardData.length > 0;\n  }\n\n  public getIcon(): string {\n    if (!this.cardData) {\n      return \"\";\n    }\n    return getCardTypeRes(this.cardData[0], this.cardData[1]);\n  }\n\n  public checkSame(data: MahjongCardData): boolean {\n    if (!data || !data.cardData) {\n      return false;\n    }\n    if (!this.isValid()) {\n      return false;\n    }\n    return data.cardData[0] === this.cardData[0] && data.cardData[1] === this.cardData[1];\n  }\n\n  public checkPos(data: MahjongCardData): boolean {\n    if (!data) {\n      return false;\n    }\n    return data.row === this.row && data.col === this.col;\n  }\n\n  onAlloc(): void {\n    this.row = 0;\n    this.col = 0;\n    this.cardData = <any>undefined;\n  }\n\n  onFree(): void {\n    this.onAlloc();\n  }\n}\n","import { CardType, IMahjongResultParam, MahjongEvent } from \"@def/mahjong\";\nimport { AStarMgr, GridPoint } from \"@base/astar\";\nimport { MahjongCardData } from \"./MahjongCardData\";\nimport { CARD_COUNT, CARD_NUM_LIST, CardData } from \"../MahjongConst\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport Scene = Laya.Scene;\nimport ConfigName = config.ConfigName;\nimport LevelConfig = config.LevelConfig;\nimport poolMgr = base.poolMgr;\nimport eventMgr = base.eventMgr;\n\nexport const MAHJONG_LEVEL = \"mahjong_level\";\n\n/**\n * @date 2024/12/22\n */\nexport class MahjongModel {\n  public row = 0;\n  public col = 0;\n  public data: MahjongCardData[][] = [];\n\n  public level = 0;\n  public levelScore = 0;\n\n  private _rowColStrList: string[];\n  private _pathData: number[][] = [];\n  private _astarMgr: AStarMgr;\n  private _sameCardMap: { [key: string]: MahjongCardData[] } = {};\n\n  // constructor() {\n  //   // this.init();\n  // }\n  //\n  // public init(): void {\n  //   globalAdapter.storage.getItem(MAHJONG_LEVEL, (data: number) => {\n  //     console.warn(`11111 before getItem: ${this.level}`);\n  //     this.level = data || 0;\n  //     console.warn(`11111 after getItem: ${this.level} ${data}`);\n  //   });\n  // }\n\n  private getLevelCfg(): LevelConfig {\n    const lv = this.getNextLevel();\n    const list = GameCfg.getCfgListByName<LevelConfig>(ConfigName.LEVEl) || [];\n    if (lv >= list.length) {\n      return list[list.length - 1];\n    }\n    return GameCfg.getCfgByNameId<LevelConfig>(ConfigName.LEVEl, lv || 1);\n  }\n\n  public updateScore(score: number): void {\n    this.levelScore += score;\n    eventMgr.emit(MahjongEvent.UPDATE_SCORE);\n  }\n\n  public updateData(): void {\n    const cfg = this.getLevelCfg();\n    this.row = cfg && cfg.layout ? cfg.layout[0] : 8;\n    this.col = cfg && cfg.layout ? cfg.layout[1] : 10;\n    this.data = [];\n  }\n\n  // æ¸…é™¤å½“å‰å…³å¡æ•°æ®\n  public clearData(isReset = false): void {\n    // if (isReset) {\n    //   this.level = 0;\n    // }\n    this.levelScore = 0;\n    this.row = 0;\n    this.col = 0;\n    this.data.length = 0;\n    this._pathData.length = 0;\n    this._astarMgr = <any>undefined;\n    this._rowColStrList = <any>undefined;\n    this._sameCardMap = {};\n  }\n\n  // éº»å°†ç‰Œç±»å‹é›†\n  private getMahjongCardList(): CardData[] {\n    const list: CardData[] = [];\n    const cardTypeList = this.getLevelCfg().cardType || [];\n    const fengTypeList = this.getLevelCfg().fengType || [];\n    for (let type of cardTypeList) {\n      for (let num of CARD_NUM_LIST) {\n        list.push([type, num]);\n      }\n    }\n    for (let feng of fengTypeList) {\n      list.push([CardType.FENG, feng]);\n    }\n    return list;\n  }\n\n  private getRowColStrList(): string[] {\n    if (!this._rowColStrList) {\n      const rst: string[] = [];\n      for (let i = 0; i < this.row; i++) {\n        for (let j = 0; j < this.col; j++) {\n          rst[i * this.col + j] = i + \"_\" + j;\n        }\n      }\n      this._rowColStrList = rst;\n    }\n    return this._rowColStrList || [];\n  }\n\n  private getRandomRowCol(): number[] {\n    const list = this.getRowColStrList();\n    const idx = Math.random() * list.length >> 0;\n    const listItem = list.splice(idx, 1)[0];\n    return listItem.split(\"_\").map(item => +item);\n  }\n\n  public getMahjongData(): MahjongCardData[][] {\n    const list = this.getMahjongCardList();\n    for (let item of list) {\n      for (let i = 0; i < CARD_COUNT; i++) {\n        const randomItemAry = this.getRandomRowCol();\n        if (!this.data[randomItemAry[0]]) {\n          this.data[randomItemAry[0]] = [];\n        }\n        const cardData = poolMgr.alloc(MahjongCardData);\n        cardData.updateInfo(randomItemAry[0], randomItemAry[1], item);\n        this.data[randomItemAry[0]][randomItemAry[1]] = cardData;\n      }\n    }\n    return this.data;\n  }\n\n  // ç§»é™¤ç‰Œ\n  public deleteCard(index: number): boolean {\n    const row = (index / 10 >> 0);\n    const col = index % 10;\n    if (!this.data || !this.data[row]) {\n      return false;\n    }\n    poolMgr.free(this.data[row][col]);\n    this.data[row][col] = undefined;\n    if (this._pathData.length) {\n      this._pathData[row + 1][col + 1] = 0;\n    }\n    const cnt = this.getLeaveCardDataList().length;\n    if (cnt <= 0) {\n      this.showResult();\n    }\n    return true;\n  }\n\n  // dfsæ£€æŸ¥æ˜¯å¦å¯ä»¥æ¶ˆé™¤\n  public findPath(startData: MahjongCardData, targetData: MahjongCardData): GridPoint[] {\n    if (!startData || !targetData || !startData.checkSame(targetData)) {\n      return [];\n    }\n    if (!this._astarMgr) {\n      const dfsAry: number[][] = [];\n      for (let i = 0; i < this.row + 2; i++) {\n        for (let j = 0; j < this.col + 2; j++) {\n          if (!dfsAry[i]) {\n            dfsAry[i] = [];\n          }\n          if (i === 0 || j === 0 || i === this.row + 1 || j === this.col + 1) {\n            dfsAry[i][j] = 0;\n          } else {\n            const cardData = this.data[i - 1][j - 1];\n            dfsAry[i][j] = cardData ? 1 : 0;\n          }\n        }\n      }\n      this._pathData = dfsAry;\n      this._astarMgr = new AStarMgr(this._pathData);\n    }\n    const paths = this._astarMgr.findPath([startData.row + 1, startData.col + 1], [targetData.row + 1, targetData.col + 1]);\n    return paths || [];\n  }\n\n  public canConnect(startData: MahjongCardData, targetData: MahjongCardData): boolean {\n    if (!startData || !targetData) {\n      return false;\n    }\n    const paths = this.findPath(startData, targetData);\n    return !!paths.length;\n  }\n\n  // æ ¹æ®æŸå¼ ç‰Œå¾—åˆ°ç›¸åŒç‰Œçš„ä¿¡æ¯\n  public getConnectCardDataList(cardData: MahjongCardData): MahjongCardData[] {\n    if (!cardData) {\n      return [];\n    }\n    const cardKey = cardData.cardData.toString();\n    if (this._sameCardMap[cardKey]) {\n      return this._sameCardMap[cardKey] || [];\n    }\n    const rst: MahjongCardData[] = [];\n    for (let data of this.data) {\n      for (let item of data) {\n        if (item && item.checkSame(cardData)) {\n          rst.push(item);\n        }\n      }\n    }\n    this._sameCardMap[cardKey] = rst;\n    return rst;\n  }\n\n  // æç¤ºå¯æ¶ˆé™¤çš„ç‰Œ\n  public getTipsCardDataList(): MahjongCardData[] {\n    if (!this.data.length) {\n      return [];\n    }\n    let minPath = Number.MAX_SAFE_INTEGER;\n    let rst: MahjongCardData[] = [];\n    const checkSet = new Set<string>();\n    for (let rows of this.data) {\n      if (!rows || !rows.length) continue;\n      for (let item of rows) {\n        if (!item || !item.cardData || !item.isValid()) continue;// å·²æ¶ˆé™¤\n        if (checkSet.has(item.cardData.toString())) continue;\n        checkSet.add(item.cardData.toString());\n        const connectList = this.getConnectCardDataList(item);\n        if (!connectList.length) continue;\n        for (let i = 0; i < connectList.length; i++) {\n          const cardI = connectList[i];\n          if (!cardI || !cardI.isValid()) continue;\n          for (let j = i + 1; j < connectList.length; j++) {\n            const cardJ = connectList[j];\n            if (!cardJ || !cardJ.isValid()) continue;\n            const paths = this.findPath(cardI, cardJ);\n            if (!paths.length) continue;\n            if (paths.length === 2) {\n              return [cardI, cardJ];\n            }\n            if (paths.length < minPath) {\n              rst = [cardI, cardJ];\n              minPath = paths.length;\n            }\n          }\n        }\n      }\n    }\n    return rst;\n  }\n\n  // å‰©ä½™ç‰Œåˆ—è¡¨\n  public getLeaveCardDataList(): MahjongCardData[] {\n    return this.data.reduce((arr, item) => {\n        return arr.concat(item.filter(card => card && card.isValid()));\n      },\n      []\n    );\n  }\n\n  // æ´—ç‰Œ\n  public getRefreshCardDataList(): MahjongCardData[][] {\n    const list = this.getLeaveCardDataList();\n    this._astarMgr = <any>undefined;\n    this._rowColStrList = <any>undefined;\n    this.data = [];\n    for (let i = 0; i < this.row; i++) {\n      this.data[i] = new Array(this.col).fill(undefined);\n    }\n    this._pathData = [];\n    for (let card of list) {\n      if (!card) {\n        continue;\n      }\n      const random = this.getRandomRowCol();\n      if (!this.data[random[0]]) {\n        this.data[random[0]] = new Array(this.col).fill(undefined);\n      }\n      card.updateInfo(random[0], random[1], card.cardData);\n      this.data[random[0]][random[1]] = card;\n    }\n    return this.data;\n  }\n\n  // å…³å¡æŒ‘æˆ˜æ—¶é—´\n  public getChallengeTime(): number {\n    const cfg = this.getLevelCfg();\n    if (cfg.time) {\n      return cfg.time;\n    }\n    return 90;\n  }\n\n  /**é‡æ–°æŒ‘æˆ˜*/\n  public challengeAgain(): void {\n    this.clearData();\n    this.updateData();\n  }\n\n  /**ä¸‹ä¸€å…³*/\n  public showNext(isAgain?: boolean): void {\n    // if (!isAgain) {\n    //   this.level += 1;\n    // }\n    this.clearData();\n    this.updateData();\n  }\n\n  public getNextLevel(): number {\n    return this.level + 1;\n  }\n\n  // /**æŒ‘æˆ˜æˆåŠŸ*/\n  // public challengeSuccess(): void {\n  //   let lev = this.level;\n  //   globalAdapter.storage.setItem(MAHJONG_LEVEL, lev, (success?: boolean) => {\n  //     if (success) {\n  //       console.log(`11111 setItem success: `, lev);\n  //     } else {\n  //       console.log(`11111 setItem fail: `, lev);\n  //     }\n  //   });\n  // }\n\n  /**å±•ç¤ºç»“ç®—å¼¹çª—*/\n  public showResult(param?: IMahjongResultParam): void {\n    eventMgr.emit(MahjongEvent.SHOW_RESULT);\n    Scene.open(\"modules/mahjong/MahjongResult.scene\", false, param);\n  }\n}\n","/**\n * @date 2025/3/22\n */\n\nexport enum PlatformType {\n  WX = \"wx\",\n  TT = \"tt\",\n  QQ = \"qq\",\n  WEB = \"web\",\n  UNKNOWN = \"unknown\"\n}\n\n// å¹³å°ç»Ÿä¸€æ¥å£ï¼Œé€‚é…å™¨æ¨¡å¼\nexport interface IPlatformAdapter {\n  login?: () => void;\n  share?: () => void;\n  pay?: () => void;\n\n  readonly storage: IPlatformStorage;\n}\n\n// ç¼“å­˜ç³»ç»Ÿ\nexport interface IPlatformStorage {\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void;\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T;\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void;\n\n  clear: () => void;\n}","/**\n * @date 2025/3/22\n */\nimport { PlatformType } from \"./PlatformConst\";\n\nexport class Platform {\n  public static get platform(): PlatformType {\n    if (typeof wx !== \"undefined\" && wx.getSystemInfoSync) {\n      return PlatformType.WX;\n    } else if (typeof window !== \"undefined\") {\n      return PlatformType.WEB;\n    } else {\n      return PlatformType.UNKNOWN;\n    }\n  }\n\n  public static get isWx(): boolean {\n    return this.platform === PlatformType.WX;\n  }\n\n  public static get isWeb(): boolean {\n    return this.platform === PlatformType.WEB;\n  }\n}","/**\n * wx\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, IPlatformStorage } from \"./PlatformConst\";\n\nexport class WechatAdapter implements IPlatformAdapter {\n  private _storage: IPlatformStorage;\n  public get storage(): IPlatformStorage {\n    if (!this._storage) {\n      this._storage = new WechatPlatformStorage();\n    }\n    return this._storage;\n  }\n\n}\n\nexport class WechatPlatformStorage implements IPlatformStorage {\n  clear(): void {\n    wx.clearStorage();\n  }\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T {\n    try {\n      wx.getStorage({\n        key: key,\n        success: (result): void => {\n          if (callback) callback(JSON.parse(result.data));\n        },\n        fail: () => {\n          if (callback) callback(undefined);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void {\n    try {\n      wx.removeStorage({\n        key: key,\n        success: (): void => {\n          if (callback) callback(true);\n        },\n        fail: () => {\n          if (callback) callback(false);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      if (callback) callback(false);\n    }\n  }\n\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void {\n    try {\n      wx.setStorage({\n        key: key,\n        data: JSON.stringify(val),\n        success: (): void => {\n          if (callback) callback(true);\n        },\n        fail: () => {\n          if (callback) callback(false);\n        },\n        complete: () => {\n          //\n        }\n      });\n    } catch (e) {\n      if (callback) callback(false);\n    }\n  }\n}","/**\n * web\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, IPlatformStorage } from \"./PlatformConst\";\n\nexport class WebAdapter implements IPlatformAdapter {\n  private _storage: IPlatformStorage;\n  public get storage(): IPlatformStorage {\n    if (!this._storage) {\n      this._storage = new WebPlatformStorage();\n    }\n    return this._storage;\n  }\n}\n\nexport class WebPlatformStorage implements IPlatformStorage {\n  setItem(key: string, val: any, callback?: (success?: boolean) => void): void {\n    try {\n      localStorage.setItem(key, JSON.stringify(val));\n      if (callback) {\n        callback(true);\n      }\n    } catch (e) {\n      if (callback) {\n        callback(false);\n      }\n    }\n  }\n\n  getItem<T = any>(key: string, callback?: (data?: T) => void): T {\n    try {\n      const data = localStorage.getItem(key);\n      const parsed = data ? JSON.parse(data) : null;\n      if (callback) {\n        callback(parsed);\n      }\n      return parsed;\n    } catch (e) {\n      if (callback) {\n        callback(undefined);\n      }\n      return undefined;\n    }\n  }\n\n  removeItem(key: string, callback?: (success?: boolean) => void): void {\n    try {\n      localStorage.removeItem(key);\n      if (callback) {\n        callback(true);\n      }\n    } catch (e) {\n      if (callback) {\n        callback(false);\n      }\n    }\n  }\n\n  clear(): void {\n    localStorage.clear();\n  }\n}","/**\n * @date 2025/3/22\n */\nimport { IPlatformAdapter, PlatformType } from \"./PlatformConst\";\nimport { Platform } from \"./Platform\";\nimport { WechatAdapter } from \"./WechatAdapter\";\nimport { WebAdapter } from \"./WebAdapter\";\n\nexport class AdapterFactory {\n  public static getAdapter(): IPlatformAdapter {\n    switch (Platform.platform) {\n      case PlatformType.WX:\n        return new WechatAdapter();\n      case PlatformType.WEB:\n        return new WebAdapter();\n      default:\n        throw new Error(`Unsupported platform!`);\n    }\n  }\n}","/**\n * @author zpj\n * @date 2025/4/1\n */\n\nimport { AdapterFactory } from \"./AdapterFactory\";\n\nexport const globalAdapter = AdapterFactory.getAdapter();\n","import { MAHJONG_LEVEL, MahjongModel } from \"./MahjongModel\";\nimport { globalAdapter } from \"@platform/index\";\nimport { MahjongEvent } from \"@def/mahjong\";\nimport BaseProxy = base.BaseProxy;\nimport eventMgr = base.eventMgr;\n\n/**\n * @date 2024/12/22\n */\nexport class MahjongProxy extends BaseProxy {\n  private _model: MahjongModel;\n\n  public get model(): MahjongModel {\n    if (!this._model) {\n      this._model = new MahjongModel();\n    }\n    return this._model;\n  }\n\n  public init(): void {\n    this.sMahjongInfo(); // æ¨¡æ‹Ÿæ•°æ®ä¸‹å‘ï¼Œè·å–ç¼“å­˜å…³å¡æ•°æ®\n  }\n\n  public cMahjongSuccess(): void {\n    let lev = this.model.level + 1;\n    globalAdapter.storage.setItem(MAHJONG_LEVEL, lev, (success?: boolean) => {\n      if (success) {\n        console.log(`cMahjongSuccess setItem success: `, lev);\n      } else {\n        console.log(`cMahjongSuccess setItem fail: `, lev);\n      }\n    });\n    this.model.level += 1;// æŒ‘æˆ˜æˆåŠŸäº†ï¼Œç›´æ¥è®¾ç½®æˆåŠŸå…³å¡\n  }\n\n  public sMahjongInfo(): void {\n    this.model.clearData();\n    globalAdapter.storage.getItem(MAHJONG_LEVEL, (data: number) => {\n      console.warn(`sMahjongInfo before getItem: ${this.model.level}`);\n      this.model.level = data || 0;\n      console.warn(`sMahjongInfo after getItem: ${this.model.level} ${data}`);\n      eventMgr.emit(MahjongEvent.UPDATE_INFO);\n    });\n  }\n}","import BaseModule = base.BaseModule;\nimport { ModuleType, ProxyType } from \"@def/module-type\";\nimport { MahjongProxy } from \"./model/MahjongProxy\";\n\n/**\n * @author zpj\n * @date 2025/4/29\n */\nexport class MahjongModule extends BaseModule {\n  constructor() {\n    super(ModuleType.MAHJONG);\n  }\n\n  protected initCmd(): void {\n  }\n\n  protected initMdr(): void {\n  }\n\n  protected initProxy(): void {\n    this.regProxy(ProxyType.MAHJONG, MahjongProxy);\n  }\n\n}","import { MiscModule } from \"./misc/index\";\nimport { MahjongModule } from \"./mahjong/index\";\n\n/**\n * @author zpj\n * @date 2025/4/29\n */\nfunction regModules(): void {\n  base.facade.push(MiscModule);\n  base.facade.push(MahjongModule);\n}\n\n// å®ä¾‹åŒ–æ‰€æœ‰æ¨¡å—\nfunction insModules(): void {\n  base.facade.instantiate();\n}\n\nexport function initModules(): void {\n  console.log(`[å¼€å§‹åˆå§‹åŒ–æ¨¡å—]`);\n  regModules();\n  insModules();\n}\n","/**\n * @author zpj\n * @date 2025/4/29\n */\n\ntype LogLevel = \"log\" | \"info\" | \"warn\" | \"error\" | \"debug\";\n\nconst LOG_LEVEL_ORDER: Record<LogLevel, number> = {\n  log: 1,\n  info: 2,\n  warn: 3,\n  error: 4,\n  debug: 5,\n};\n\nconst LEVEL_ICON: Record<LogLevel, string> = {\n  log: \"ğŸ“˜\",\n  info: \"â„¹ï¸\",\n  warn: \"âš ï¸\",\n  error: \"âŒ\",\n  debug: \"ğŸ\",\n};\n\nconst LEVEL_STYLES: Record<LogLevel, { color: string; background?: string }> = {\n  debug: { color: \"white\", background: \"purple\" },\n  log: { color: \"black\", background: \"#e0e0e0\" },\n  info: { color: \"white\", background: \"deepskyblue\" },\n  warn: { color: \"black\", background: \"gold\" },\n  error: { color: \"white\", background: \"crimson\" },\n};\n\n// è®¾ç½®å½“å‰æ—¥å¿—ç­‰çº§è¿‡æ»¤\nconst FILTER_LEVEL = \"warn\";\n\nfunction pad(n: number, len = 2, prefix = \"0\"): string {\n  const str = prefix.repeat(len) + n.toString();\n  return str.slice(-len);\n}\n\nfunction padString(n: string, len = 5, prefix = \" \"): string {\n  const nLen = n.length;\n  const difLen = len - nLen;\n  return prefix.repeat(Math.ceil(difLen / 2)) + n + prefix.repeat(Math.floor(difLen / 2));\n}\n\nfunction getTimestamp(): string {\n  const now = new Date();\n  return `[${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(now.getDate())} ` +\n    `${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}.${pad(now.getMilliseconds(), 3)}]`;\n}\n\nfunction wrapConsoleMethod(originalMethod: (...args: any[]) => void, color: string = \"\", name = \"\"): (...args: any[]) => void {\n  return (...args: any[]) => {\n    const logLevel = name || originalMethod.name;\n    if (LOG_LEVEL_ORDER[logLevel] > LOG_LEVEL_ORDER[FILTER_LEVEL]) {\n      return undefined;\n    }\n    const timestamp = getTimestamp();\n    const logName = padString(logLevel, 5, \" \");\n    const icon = LEVEL_ICON[logLevel] || \"\";\n    const prefix = `${timestamp}`;\n    const style = color ? `background: ${color}; padding: 2px 4px; border-radius: 3px;` : \"\";\n    originalMethod.call(console, `%c${logName}`, style, icon, prefix, ...args);\n  };\n}\n\nlet originalMethods: Partial<Record<keyof Console, (...args: any[]) => void>> = {};\n\nexport function initEnhancedConsole(): void {\n  if (!originalMethods.log) {\n    // å¤‡ä»½åŸå§‹æ–¹æ³•\n    originalMethods.log = console.log;\n    originalMethods.warn = console.warn;\n    originalMethods.error = console.error;\n    originalMethods.info = console.info;\n    originalMethods.debug = console.debug;\n\n    // é‡å†™\n    console.warn = wrapConsoleMethod(console.log, \"gold\", \"warn\"); // ç”¨logæ¥å¤„ç†warnï¼Œå»æ‰warné»˜è®¤çš„ä¸€æ•´è¡Œéƒ½æœ‰é¢œè‰²çš„é»˜è®¤å¤„ç†\n    console.error = wrapConsoleMethod(console.log, \"red\", \"error\");// åŒä¸Š\n\n    console.info = wrapConsoleMethod(console.info, \"deepskyblue\");\n    console.debug = wrapConsoleMethod(console.debug, \"violet\");\n    console.log = wrapConsoleMethod(console.log, \"#909090\");\n  }\n}\n\nexport function restoreOriginalConsole(): void {\n  if (originalMethods.log) {\n    // è¿˜åŸ\n    console.log = originalMethods.log!;\n    console.warn = originalMethods.warn!;\n    console.error = originalMethods.error!;\n    console.info = originalMethods.info!;\n    console.debug = originalMethods.debug!;\n    originalMethods = {};\n  }\n}\n","import GameConfig from \"./GameConfig\";\nimport { initLayerMgr } from \"@base/LayerManager\";\nimport { GameCfg } from \"@base/cfg/GameCfg\";\nimport { initModules } from \"./modules/index\";\nimport { initEnhancedConsole } from \"@base/logger\";\nimport baseInit = base.baseInit;\n\nclass Main {\n  constructor() {\n    //æ ¹æ®IDEè®¾ç½®åˆå§‹åŒ–å¼•æ“\n    if (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\n    else Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n    Laya[\"Physics\"] && Laya[\"Physics\"].enable();\n    Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n    Laya.stage.scaleMode = GameConfig.scaleMode;\n    Laya.stage.screenMode = GameConfig.screenMode;\n    Laya.stage.alignV = GameConfig.alignV;\n    Laya.stage.alignH = GameConfig.alignH;\n    //å…¼å®¹å¾®ä¿¡ä¸æ”¯æŒåŠ è½½sceneåç¼€åœºæ™¯\n    Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n    //æ‰“å¼€è°ƒè¯•é¢æ¿ï¼ˆé€šè¿‡IDEè®¾ç½®è°ƒè¯•æ¨¡å¼ï¼Œæˆ–è€…urlåœ°å€å¢åŠ debug=trueå‚æ•°ï¼Œå‡å¯æ‰“å¼€è°ƒè¯•é¢æ¿ï¼‰\n    if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n    if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n    if (GameConfig.stat) Laya.Stat.show();\n    Laya.alertGlobalError(true);\n    initEnhancedConsole();\n\n    //æ¿€æ´»èµ„æºç‰ˆæœ¬æ§åˆ¶ï¼Œversion.jsonç”±IDEå‘å¸ƒåŠŸèƒ½è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚æœæ²¡æœ‰ä¹Ÿä¸å½±å“åç»­æµç¨‹\n    Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\n    initLayerMgr();\n    initLoop();\n    baseInit();\n    initModules();\n    GameCfg.init();\n  }\n\n  onVersionLoaded(): void {\n    //æ¿€æ´»å¤§å°å›¾æ˜ å°„ï¼ŒåŠ è½½å°å›¾çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å°å›¾åœ¨å¤§å›¾åˆé›†é‡Œé¢ï¼Œåˆ™ä¼˜å…ˆåŠ è½½å¤§å›¾åˆé›†ï¼Œè€Œä¸æ˜¯å°å›¾\n    Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n  }\n\n  onConfigLoaded(): void {\n    //åŠ è½½IDEæŒ‡å®šçš„åœºæ™¯\n    GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n  }\n}\n\nlet _lastLoop = 0;\nlet _rawLoop: () => boolean;\nlet stage: {\n  _loop: () => boolean;\n};\n\nconst enum UpdateFrame {\n  FAST = 16,\n  SLOW = 33,\n  SLEEP = 1000,\n}\n\nfunction _loop(): boolean {\n  const now = Date.now();\n  const elapsed = now - _lastLoop;\n  if (elapsed < UpdateFrame.SLOW) {\n    return false;\n  }\n  _lastLoop = now;\n  try {\n    if (_rawLoop) {\n      _rawLoop.call(Laya.stage);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n  base.baseLoop();\n  return true;\n}\n\nfunction initLoop(): void {\n  stage = <any>Laya.stage;\n  _rawLoop = stage._loop;\n  stage._loop = _loop;\n}\n\nsetInterval(_bgLoop, 1);\n\nfunction _bgLoop(): void {\n  const now = Date.now();\n  const elapsed = now - _lastLoop;\n  if (elapsed < UpdateFrame.SLOW * 1.5) {\n    return;\n  }\n  _loop();\n}\n\n//æ¿€æ´»å¯åŠ¨ç±»\nnew Main();\n"],"names":["Scene","Sprite","Handler","Event","CallBack","Script","Image","eventMgr","poolMgr","BaseModule"],"mappings":"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"}